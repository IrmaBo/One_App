/* 
* mockdrop - v1.0.0 -  2020-06-12 
* Author Maximilian Beck http://glumb.de 
* Libraries used: 
*     isotope https://github.com/metafizzy/isotope 
*     glfx.js http://evanw.github.io/glfx.js/ 
*     FileSaver.js https://github.com/eligrey/FileSaver.js/ 
*     jQuery 
*     numeric.js http://numericjs.com/ 
*     matrix Tranformation http://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/ 
*/

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(d,e){var t=[],l=t.slice,m=t.concat,s=t.push,i=t.indexOf,n={},r=n.toString,g=n.hasOwnProperty,v={},y=d.document,o="2.1.1",E=function(e,t){return new E.fn.init(e,t)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,c=/-([\da-z])/gi,f=function(e,t){return t.toUpperCase()};function h(e){var t=e.length,n=E.type(e);return"function"!==n&&!E.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}E.fn=E.prototype={jquery:o,constructor:E,selector:"",length:0,toArray:function(){return l.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:l.call(this)},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return E.each(this,e,t)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||E.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(E.isPlainObject(r)||(i=E.isArray(r)))?(i?(i=!1,o=n&&E.isArray(n)?n:[]):o=n&&E.isPlainObject(n)?n:{},a[t]=E.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===E.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!E.isArray(e)&&0<=e-parseFloat(e)},isPlainObject:function(e){return"object"===E.type(e)&&!e.nodeType&&!E.isWindow(e)&&!(e.constructor&&!g.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[r.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=E.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(u,"ms-").replace(c,f)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=h(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(h(Object(e))?E.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(h(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return m.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),E.isFunction(e)?(r=l.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i):void 0},now:Date.now,support:v}),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){var e,d,b,o,r,m,f,g,w,c,l,v,T,i,y,x,a,s,E,_="sizzle"+-new Date,S=n.document,C=0,h=0,u=oe(),p=oe(),A=oe(),k=function(e,t){return e===t&&(l=!0),0},D="undefined",L=1<<31,R={}.hasOwnProperty,t=[],j=t.pop,M=t.push,N=t.push,I=t.slice,F=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",z=B.replace("w","w#"),q="\\["+P+"*("+B+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+P+"*\\]",W=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),H=new RegExp("^"+P+"*,"+P+"*"),$=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),X=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),V=new RegExp(W),G=new RegExp("^"+z+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{N.apply(t=I.call(S.childNodes),S.childNodes),t[S.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){M.apply(e,I.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,n,r){var i,o,a,s,u,c,l,f,h,p;if((t?t.ownerDocument||t:S)!==T&&v(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||T).nodeType)&&9!==s)return[];if(y&&!r){if(i=K.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&E(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return N.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&d.getElementsByClassName&&t.getElementsByClassName)return N.apply(n,t.getElementsByClassName(a)),n}if(d.qsa&&(!x||!x.test(e))){if(f=l=_,h=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=m(e),(l=t.getAttribute("id"))?f=l.replace(te,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+me(c[u]);h=ee.test(e)&&pe(t.parentNode)||t,p=c.join(",")}if(p)try{return N.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return g(e.replace(U,"$1"),t,n,r)}function oe(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ae(e){return e[_]=!0,e}function se(e){var t=T.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=e.length;r--;)b.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function fe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function he(a){return ae(function(o){return o=+o,ae(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&typeof e.getElementsByTagName!==D&&e}for(e in d=ie.support={},r=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=ie.setDocument=function(e){var t,u=e?e.ownerDocument||e:S,n=u.defaultView;return u!==T&&9===u.nodeType&&u.documentElement?(i=(T=u).documentElement,y=!r(u),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){v()},!1):n.attachEvent&&n.attachEvent("onunload",function(){v()})),d.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=se(function(e){return e.appendChild(u.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=J.test(u.getElementsByClassName)&&se(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),d.getById=se(function(e){return i.appendChild(e).id=_,!u.getElementsByName||!u.getElementsByName(_).length}),d.getById?(b.find.ID=function(e,t){if(typeof t.getElementById!==D&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var n=e.replace(ne,re);return function(e){var t=typeof e.getAttributeNode!==D&&e.getAttributeNode("id");return t&&t.value===n}}),b.find.TAG=d.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==D?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==D&&y?t.getElementsByClassName(e):void 0},a=[],x=[],(d.qsa=J.test(u.querySelectorAll))&&(se(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&x.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||x.push("\\["+P+"*(?:value|"+O+")"),e.querySelectorAll(":checked").length||x.push(":checked")}),se(function(e){var t=u.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&x.push("name"+P+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||x.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),x.push(",.*:")})),(d.matchesSelector=J.test(s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&se(function(e){d.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",W)}),x=x.length&&new RegExp(x.join("|")),a=a.length&&new RegExp(a.join("|")),t=J.test(i.compareDocumentPosition),E=t||J.test(i.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===S&&E(S,e)?-1:t===u||t.ownerDocument===S&&E(S,t)?1:c?F.call(c,e)-F.call(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===u?-1:t===u?1:i?-1:o?1:c?F.call(c,e)-F.call(c,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===S?-1:s[r]===S?1:0},u):T},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==T&&v(e),t=t.replace(X,"='$1']"),!(!d.matchesSelector||!y||a&&a.test(t)||x&&x.test(t)))try{var n=s.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,T,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==T&&v(e),E(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==T&&v(e);var n=b.attrHandle[t.toLowerCase()],r=n&&R.call(b.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==r?r:d.attributes||!y?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,c=!d.sortStable&&e.slice(0),e.sort(k),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return c=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=ie.selectors={cacheLength:50,createPseudo:ae,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=u[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&u(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==D&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=ie.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,d,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===d&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,c=g!==v?"nextSibling":"previousSibling",l=e.parentNode,f=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(l){if(g){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===f:1===o.nodeType)return!1;u=c="only"===p&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&h){for(s=(r=(i=l[_]||(l[_]={}))[p]||[])[0]===C&&r[1],a=r[0]===C&&r[2],o=s&&l.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||u.pop();)if(1===o.nodeType&&++a&&o===e){i[p]=[C,s,a];break}}else if(h&&(r=(e[_]||(e[_]={}))[p])&&r[0]===C)a=r[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||u.pop())&&((y?o.nodeName.toLowerCase()!==f:1!==o.nodeType)||!++a||(h&&((o[_]||(o[_]={}))[p]=[C,a]),o!==e)););return(a-=m)===d||a%d==0&&0<=a/d}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return a[_]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=F.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ae(function(e){var r=[],i=[],s=f(e.replace(U,"$1"));return s[_]?ae(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),!i.pop()}}),has:ae(function(t){return function(e){return 0<ie(t,e).length}}),contains:ae(function(t){return function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:ae(function(n){return G.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(ne,re).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=le(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=fe(e);function de(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(a,e,t){var s=e.dir,u=t&&"parentNode"===s,c=h++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n)}:function(e,t,n){var r,i,o=[C,c];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u){if((r=(i=e[_]||(e[_]={}))[s])&&r[0]===C&&r[1]===c)return o[2]=r[2];if((i[s]=o)[2]=a(e,t,n))return!0}}}function ve(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function ye(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function xe(p,d,m,g,v,e){return g&&!g[_]&&(g=xe(g)),v&&!v[_]&&(v=xe(v,e)),ae(function(e,t,n,r){var i,o,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(d||"*",n.nodeType?[n]:n,[]),f=!p||!e&&d?l:ye(l,s,p,n,r),h=m?v||(e?p:c||g)?[]:t:f;if(m&&m(f,h,n,r),g)for(i=ye(h,u),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(h[u[o]]=!(f[u[o]]=a));if(e){if(v||p){if(v){for(i=[],o=h.length;o--;)(a=h[o])&&i.push(f[o]=a);v(null,h=[],i,r)}for(o=h.length;o--;)(a=h[o])&&-1<(i=v?F.call(e,a):s[o])&&(e[i]=!(t[i]=a))}}else h=ye(h===t?h.splice(c,h.length):h),v?v(null,t,h,r):N.apply(t,h)})}function be(e){for(var r,t,n,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=ge(function(e){return e===r},a,!0),c=ge(function(e){return-1<F.call(r,e)},a,!0),l=[function(e,t,n){return!o&&(n||t!==w)||((r=t).nodeType?u(e,t,n):c(e,t,n))}];s<i;s++)if(t=b.relative[e[s].type])l=[ge(ve(l),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[_]){for(n=++s;n<i&&!b.relative[e[n].type];n++);return xe(1<s&&ve(l),1<s&&me(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(U,"$1"),t,s<n&&be(e.slice(s,n)),n<i&&be(e=e.slice(n)),n<i&&me(e))}l.push(t)}return ve(l)}return de.prototype=b.filters=b.pseudos,b.setFilters=new de,m=ie.tokenize=function(e,t){var n,r,i,o,a,s,u,c=p[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in(!n||(r=H.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(U," ")}),a=a.slice(n.length)),b.filter)!(r=Y[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):p(e,s).slice(0)},f=ie.compile=function(e,t){var n,g,v,y,x,r,i=[],o=[],a=A[e+" "];if(!a){for(t||(t=m(e)),n=t.length;n--;)(a=be(t[n]))[_]?i.push(a):o.push(a);(a=A(e,(g=o,y=0<(v=i).length,x=0<g.length,r=function(e,t,n,r,i){var o,a,s,u=0,c="0",l=e&&[],f=[],h=w,p=e||x&&b.find.TAG("*",i),d=C+=null==h?1:Math.random()||.1,m=p.length;for(i&&(w=t!==T&&t);c!==m&&null!=(o=p[c]);c++){if(x&&o){for(a=0;s=g[a++];)if(s(o,t,n)){r.push(o);break}i&&(C=d)}y&&((o=!s&&o)&&u--,e&&l.push(o))}if(u+=c,y&&c!==u){for(a=0;s=v[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=j.call(r));f=ye(f)}N.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&ie.uniqueSort(r)}return i&&(C=d,w=h),l},y?ae(r):r))).selector=e}return a},g=ie.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,l=!r&&m(e=c.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&d.getById&&9===t.nodeType&&y&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(ne,re),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Y.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(ne,re),ee.test(o[0].type)&&pe(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&me(o)))return N.apply(n,r),n;break}}return(c||f(e,l))(r,t,!y,n,ee.test(e)&&pe(t.parentNode)||t),n},d.sortStable=_.split("").sort(k).join("")===_,d.detectDuplicates=!!l,v(),d.sortDetached=se(function(e){return 1&e.compareDocumentPosition(T.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||ue(O,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(d);E.find=p,E.expr=p.selectors,E.expr[":"]=E.expr.pseudos,E.unique=p.uniqueSort,E.text=p.getText,E.isXMLDoc=p.isXML,E.contains=p.contains;var x=E.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function T(e,n,r){if(E.isFunction(n))return E.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return E.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(w.test(n))return E.filter(n,e,r);n=E.filter(n,e)}return E.grep(e,function(e){return 0<=i.call(n,e)!==r})}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<n;t++)if(E.contains(i[t],this))return!0}));for(t=0;t<n;t++)E.find(e,i[t],r);return(r=this.pushStack(1<n?E.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&x.test(e)?E(e):e||[],!1).length}});var _,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(E.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!n[1]&&t)return!t||t.jquery?(t||_).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),b.test(n[1])&&E.isPlainObject(t))for(n in t)E.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=y.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):E.isFunction(e)?void 0!==_.ready?_.ready(e):e(E):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),E.makeArray(e,this))}).prototype=E.fn,_=E(y);var C=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function k(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=x.test(e)||"string"!=typeof e?E(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?E.unique(o):o)},index:function(e){return e?"string"==typeof e?i.call(E(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.unique(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E.dir(e,"parentNode")},parentsUntil:function(e,t,n){return E.dir(e,"parentNode",n)},next:function(e){return k(e,"nextSibling")},prev:function(e){return k(e,"previousSibling")},nextAll:function(e){return E.dir(e,"nextSibling")},prevAll:function(e){return E.dir(e,"previousSibling")},nextUntil:function(e,t,n){return E.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return E.dir(e,"previousSibling",n)},siblings:function(e){return E.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return E.sibling(e.firstChild)},contents:function(e){return e.contentDocument||E.merge([],e.childNodes)}},function(r,i){E.fn[r]=function(e,t){var n=E.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(A[r]||E.unique(n),C.test(r)&&n.reverse()),this.pushStack(n)}});var D,L=/\S+/g,R={};function j(){y.removeEventListener("DOMContentLoaded",j,!1),d.removeEventListener("load",j,!1),E.ready()}E.Callbacks=function(i){var e,n;i="string"==typeof i?R[i]||(n=R[e=i]={},E.each(e.match(L)||[],function(e,t){n[t]=!0}),n):E.extend({},i);var t,r,o,a,s,u,c=[],l=!i.once&&[],f=function(e){for(t=i.memory&&e,r=!0,u=a||0,a=0,s=c.length,o=!0;c&&u<s;u++)if(!1===c[u].apply(e[0],e[1])&&i.stopOnFalse){t=!1;break}o=!1,c&&(l?l.length&&f(l.shift()):t?c=[]:h.disable())},h={add:function(){if(c){var e=c.length;!function r(e){E.each(e,function(e,t){var n=E.type(t);"function"===n?i.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==n&&r(t)})}(arguments),o?s=c.length:t&&(a=e,f(t))}return this},remove:function(){return c&&E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,c,n));)c.splice(n,1),o&&(n<=s&&s--,n<=u&&u--)}),this},has:function(e){return e?-1<E.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=l=t=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,t||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||r&&!l||(t=[e,(t=t||[]).slice?t.slice():t],o?l.push(t):f(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},E.extend({Deferred:function(e){var o=[["resolve","done",E.Callbacks("once memory"),"resolved"],["reject","fail",E.Callbacks("once memory"),"rejected"],["notify","progress",E.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return E.Deferred(function(r){E.each(o,function(e,t){var n=E.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&E.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},s={};return a.pipe=a.then,E.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,r=0,o=l.call(arguments),a=o.length,s=1!==a||e&&E.isFunction(e.promise)?a:0,u=1===s?e:E.Deferred(),c=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?l.call(arguments):e,r===i?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(1<a)for(i=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)o[r]&&E.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(u.reject).progress(c(r,t,i)):--s;return s||u.resolveWith(n,o),u.promise()}}),E.fn.ready=function(e){return E.ready.promise().done(e),this},E.extend({isReady:!1,readyWait:1,holdReady:function(e){e?E.readyWait++:E.ready(!0)},ready:function(e){(!0===e?--E.readyWait:E.isReady)||((E.isReady=!0)!==e&&0<--E.readyWait||(D.resolveWith(y,[E]),E.fn.triggerHandler&&(E(y).triggerHandler("ready"),E(y).off("ready"))))}}),E.ready.promise=function(e){return D||(D=E.Deferred(),"complete"===y.readyState?setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",j,!1),d.addEventListener("load",j,!1))),D.promise(e)},E.ready.promise();var M=E.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===E.type(n))for(s in i=!0,n)E.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,E.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};function N(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=E.expando+Math.random()}E.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},N.uid=1,N.accepts=E.acceptData,N.prototype={key:function(t){if(!N.accepts(t))return 0;var n={},r=t[this.expando];if(!r){r=N.uid++;try{n[this.expando]={value:r},Object.defineProperties(t,n)}catch(e){n[this.expando]=r,E.extend(t,n)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(E.isEmptyObject(o))E.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,E.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{E.isArray(t)?r=t.concat(t.map(E.camelCase)):(i=E.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(L)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!E.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var I=new N,F=new N,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,P=/([A-Z])/g;function B(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(P,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:O.test(n)?E.parseJSON(n):n)}catch(e){}F.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return F.hasData(e)||I.hasData(e)},data:function(e,t,n){return F.access(e,t,n)},removeData:function(e,t){F.remove(e,t)},_data:function(e,t,n){return I.access(e,t,n)},_removeData:function(e,t){I.remove(e,t)}}),E.fn.extend({data:function(r,e){var t,n,i,o=this[0],a=o&&o.attributes;if(void 0===r){if(this.length&&(i=F.get(o),1===o.nodeType&&!I.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(n=a[t].name).indexOf("data-")&&(n=E.camelCase(n.slice(5)),B(o,n,i[n])));I.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof r?this.each(function(){F.set(this,r)}):M(this,function(t){var e,n=E.camelCase(r);if(o&&void 0===t){if(void 0!==(e=F.get(o,r)))return e;if(void 0!==(e=F.get(o,n)))return e;if(void 0!==(e=B(o,n,void 0)))return e}else this.each(function(){var e=F.get(this,n);F.set(this,n,t),-1!==r.indexOf("-")&&void 0!==e&&F.set(this,r,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){F.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=I.get(e,t),n&&(!r||E.isArray(n)?r=I.access(e,t,E.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){E.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return I.get(e,n)||I.access(e,n,{empty:E.Callbacks("once memory").add(function(){I.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=I.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var z,q,W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],H=function(e,t){return e=t||e,"none"===E.css(e,"display")||!E.contains(e.ownerDocument,e)},$=/^(?:checkbox|radio)$/i;z=y.createDocumentFragment().appendChild(y.createElement("div")),(q=y.createElement("input")).setAttribute("type","radio"),q.setAttribute("checked","checked"),q.setAttribute("name","t"),z.appendChild(q),v.checkClone=z.cloneNode(!0).cloneNode(!0).lastChild.checked,z.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!z.cloneNode(!0).lastChild.defaultValue;var X="undefined";v.focusinBubbles="onfocusin"in d;var V=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function J(){return!1}function K(){try{return y.activeElement}catch(e){}}E.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,p,d,m,g=I.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=E.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return typeof E!==X&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)p=m=(s=Q.exec(e[c])||[])[1],d=(s[2]||"").split(".").sort(),p&&(f=E.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=E.event.special[p]||{},l=E.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(p,a,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),E.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,m,g=I.hasData(e)&&I.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=m=(s=Q.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p){for(f=E.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(e,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,g.handle)||E.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)E.event.remove(e,p+t[c],n,r,!0);E.isEmptyObject(u)&&(delete g.handle,I.remove(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,u,c,l,f=[n||y],h=g.call(e,"type")?e.type:e,p=g.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Y.test(h+E.event.triggered)&&(0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,(e=e[E.expando]?e:new E.Event(h,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),l=E.event.special[h]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!E.isWindow(n)){for(s=l.delegateType||h,Y.test(s+h)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||y)&&f.push(a.defaultView||a.parentWindow||d)}for(i=0;(o=f[i++])&&!e.isPropagationStopped();)e.type=1<i?s:l.bindType||h,(c=(I.get(o,"events")||{})[e.type]&&I.get(o,"handle"))&&c.apply(o,t),(c=u&&o[u])&&c.apply&&E.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!E.acceptData(n)||u&&E.isFunction(n[h])&&!E.isWindow(n)&&((a=n[u])&&(n[u]=null),n[E.event.triggered=h](),E.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(e){e=E.event.fix(e);var t,n,r,i,o,a=[],s=l.call(arguments),u=(I.get(this,"events")||{})[e.type]||[],c=E.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=E.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?0<=E(i,this).index(u):E.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||y).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[E.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=G.test(i)?this.mouseHooks:V.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new E.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==K()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===K()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&E.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return E.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?E.event.trigger(i,null,t):E.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},E.Event=function(e,t){return this instanceof E.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Z:J):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||E.now(),void(this[E.expando]=!0)):new E.Event(e,t)},E.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Z,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Z,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Z,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){E.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return(!n||n!==this&&!E.contains(this,n))&&(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),v.focusinBubbles||E.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){E.event.simulate(r,e.target,E.event.fix(e),!0)};E.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=I.access(e,r);t||e.addEventListener(n,i,!0),I.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=I.access(e,r)-1;t?I.access(e,r,t):(e.removeEventListener(n,i,!0),I.remove(e,r))}}}),E.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=J;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return E().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=E.guid++)),this.each(function(){E.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=J),this.each(function(){E.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?E.event.trigger(e,t,n,!0):void 0}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,re=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return E.nodeName(e,"table")&&E.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var n=0,r=e.length;n<r;n++)I.set(e[n],"globalEval",!t||I.get(t[n],"globalEval"))}function pe(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(I.hasData(e)&&(o=I.access(e),a=I.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)E.event.add(t,i,c[i][n]);F.hasData(e)&&(s=F.access(e),u=E.extend({},s),F.set(t,u))}}function de(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&E.nodeName(e,t)?E.merge([e],n):n}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,E.extend({clone:function(e,t,n){var r,i,o,a,s,u,c,l=e.cloneNode(!0),f=E.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=de(l),r=0,i=(o=de(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&$.test(s.type)?u.checked=s.checked:("input"===c||"textarea"===c)&&(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||de(e),a=a||de(l),r=0,i=o.length;r<i;r++)pe(o[r],a[r]);else pe(e,l);return 0<(a=de(l,"script")).length&&he(a,!f&&de(e,"script")),l},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===E.type(i))E.merge(f,i.nodeType?[i]:i);else if(ne.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(te.exec(i)||["",""])[1].toLowerCase(),s=ue[a]||ue._default,o.innerHTML=s[1]+i.replace(ee,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;E.merge(f,o.childNodes),(o=l.firstChild).textContent=""}else f.push(t.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===E.inArray(i,r))&&(u=E.contains(i.ownerDocument,i),o=de(l.appendChild(i),"script"),u&&he(o),n))for(c=0;i=o[c++];)oe.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=E.event.special,a=0;void 0!==(n=e[a]);a++){if(E.acceptData(n)&&((i=n[I.expando])&&(t=I.cache[i]))){if(t.events)for(r in t.events)o[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);I.cache[i]&&delete I.cache[i]}delete F.cache[n[F.expando]]}}}),E.fn.extend({text:function(e){return M(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?E.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||E.cleanData(de(n)),n.parentNode&&(t&&E.contains(n.ownerDocument,n)&&he(de(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!re.test(e)&&!ue[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,E.cleanData(de(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,r){n=m.apply([],n);var e,t,i,o,a,s,u=0,c=this.length,l=this,f=c-1,h=n[0],p=E.isFunction(h);if(p||1<c&&"string"==typeof h&&!v.checkClone&&ie.test(h))return this.each(function(e){var t=l.eq(e);p&&(n[0]=h.call(this,e,t.html())),t.domManip(n,r)});if(c&&(t=(e=E.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(i=E.map(de(e,"script"),le)).length;u<c;u++)a=e,u!==f&&(a=E.clone(a,!0,!0),o&&E.merge(i,de(a,"script"))),r.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,E.map(i,fe),u=0;u<o;u++)a=i[u],oe.test(a.type||"")&&!I.access(a,"globalEval")&&E.contains(s,a)&&(a.src?E._evalUrl&&E._evalUrl(a.src):E.globalEval(a.textContent.replace(se,"")))}return this}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){E.fn[e]=function(e){for(var t,n=[],r=E(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),E(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var me,ge={};function ve(e,t){var n,r=E(t.createElement(e)).appendTo(t.body),i=d.getDefaultComputedStyle&&(n=d.getDefaultComputedStyle(r[0]))?n.display:E.css(r[0],"display");return r.detach(),i}function ye(e){var t=y,n=ge[e];return n||("none"!==(n=ve(e,t))&&n||((t=(me=(me||E("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ve(e,t),me.detach()),ge[e]=n),n}var xe=/^margin/,be=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),we=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function Te(e,t,n){var r,i,o,a,s=e.style;return(n=n||we(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||E.contains(e.ownerDocument,e)||(a=E.style(e,t)),be.test(a)&&xe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ee(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,r=y.documentElement,i=y.createElement("div"),o=y.createElement("div");if(o.style){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var e=d.getComputedStyle(o,null);t="1%"!==e.top,n="4px"===e.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),d.getComputedStyle&&E.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=o.appendChild(y.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",r.appendChild(i),e=!parseFloat(d.getComputedStyle(t,null).marginRight),r.removeChild(i),e}})}}(),E.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var _e=/^(none|table(?!-c[ea]).+)/,Se=new RegExp("^("+W+")(.*)$","i"),Ce=new RegExp("^([+-])=("+W+")","i"),Ae={position:"absolute",visibility:"hidden",display:"block"},ke={letterSpacing:"0",fontWeight:"400"},De=["Webkit","O","Moz","ms"];function Le(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=De.length;i--;)if((t=De[i]+n)in e)return t;return r}function Re(e,t,n){var r=Se.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function je(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=E.css(e,n+U[o],!0,i)),r?("content"===n&&(a-=E.css(e,"padding"+U[o],!0,i)),"margin"!==n&&(a-=E.css(e,"border"+U[o]+"Width",!0,i))):(a+=E.css(e,"padding"+U[o],!0,i),"padding"!==n&&(a+=E.css(e,"border"+U[o]+"Width",!0,i)));return a}function Me(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=we(e),a="border-box"===E.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Te(e,t,o))<0||null==i)&&(i=e.style[t]),be.test(i))return i;r=a&&(v.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+je(e,t,n||(a?"border":"content"),r,o)+"px"}function Ne(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=I.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&H(r)&&(o[a]=I.access(r,"olddisplay",ye(r.nodeName)))):(i=H(r),"none"===n&&i||I.set(r,"olddisplay",i?n:E.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Ie(e,t,n,r,i){return new Ie.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Te(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=E.camelCase(t),u=e.style;return t=E.cssProps[s]||(E.cssProps[s]=Le(u,s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:("string"===(o=typeof n)&&(i=Ce.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(E.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||E.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=E.camelCase(t);return t=E.cssProps[s]||(E.cssProps[s]=Le(e.style,s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Te(e,t,r)),"normal"===i&&t in ke&&(i=ke[t]),""===n||n?(o=parseFloat(i),!0===n||E.isNumeric(o)?o||0:i):i}}),E.each(["height","width"],function(e,i){E.cssHooks[i]={get:function(e,t,n){return t?_e.test(E.css(e,"display"))&&0===e.offsetWidth?E.swap(e,Ae,function(){return Me(e,i,n)}):Me(e,i,n):void 0},set:function(e,t,n){var r=n&&we(e);return Re(0,t,n?je(e,i,n,"border-box"===E.css(e,"boxSizing",!1,r),r):0)}}}),E.cssHooks.marginRight=Ee(v.reliableMarginRight,function(e,t){return t?E.swap(e,{display:"inline-block"},Te,[e,"marginRight"]):void 0}),E.each({margin:"",padding:"",border:"Width"},function(i,o){E.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+U[t]+o]=r[t]||r[t-2]||r[0];return n}},xe.test(i)||(E.cssHooks[i+o].set=Re)}),E.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(E.isArray(t)){for(r=we(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)},show:function(){return Ne(this,!0)},hide:function(){return Ne(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){H(this)?E(this).show():E(this).hide()})}}),((E.Tween=Ie).prototype={constructor:Ie,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=Ie.propHooks[this.prop];return e&&e.get?e.get(this):Ie.propHooks._default.get(this)},run:function(e){var t,n=Ie.propHooks[this.prop];return this.pos=t=this.options.duration?E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ie.propHooks._default.set(this),this}}).init.prototype=Ie.prototype,(Ie.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[E.cssProps[e.prop]]||E.cssHooks[e.prop])?E.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Ie.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},E.fx=Ie.prototype.init,E.fx.step={};var Fe,Oe,Pe,Be,ze,qe=/^(?:toggle|show|hide)$/,We=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),Ue=/queueHooks$/,He=[function(t,e,n){var r,i,o,a,s,u,c,l=this,f={},h=t.style,p=t.nodeType&&H(t),d=I.get(t,"fxshow");for(r in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=E.css(t,"display"),"inline"===("none"===c?I.get(t,"olddisplay")||ye(t.nodeName):c)&&"none"===E.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(i=e[r],qe.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;p=!0}f[r]=d&&d[r]||E.style(t,r)}else c=void 0;if(E.isEmptyObject(f))"inline"===("none"===c?ye(t.nodeName):c)&&(h.display=c);else for(r in d?"hidden"in d&&(p=d.hidden):d=I.access(t,"fxshow",{}),o&&(d.hidden=!p),p?E(t).show():l.done(function(){E(t).hide()}),l.done(function(){var e;for(e in I.remove(t,"fxshow"),f)E.style(t,e,f[e])}),f)a=Ge(p?d[r]:0,r,l),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],$e={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=We.exec(t),o=i&&i[3]||(E.cssNumber[e]?"":"px"),a=(E.cssNumber[e]||"px"!==o&&+r)&&We.exec(E.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o)for(o=o||a[3],i=i||[],a=+r||1;a/=s=s||".5",E.style(n.elem,e,a+o),s!==(s=n.cur()/r)&&1!==s&&--u;);return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Xe(){return setTimeout(function(){Fe=void 0}),Fe=E.now()}function Ve(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=U[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ge(e,t,n){for(var r,i=($e[t]||[]).concat($e["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Ye(o,e,t){var n,a,r=0,i=He.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Fe||Xe(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return s.notifyWith(o,[c,n,t]),n<1&&i?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Fe||Xe(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=E.camelCase(n)],o=e[n],E.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);r<i;r++)if(n=He[r].call(c,o,l,c.opts))return n;return E.map(l,Ge,c),E.isFunction(c.opts.start)&&c.opts.start.call(o,c),E.fx.timer(E.extend(u,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}E.Animation=E.extend(Ye,{tweener:function(e,t){E.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],$e[n]=$e[n]||[],$e[n].unshift(t)},prefilter:function(e,t){t?He.unshift(e):He.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||E.isFunction(e)&&e,duration:e,easing:n&&t||t&&!E.isFunction(t)&&t};return r.duration=E.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in E.fx.speeds?E.fx.speeds[r.duration]:E.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){E.isFunction(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(H).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),a=function(){var e=Ye(this,E.extend({},t),o);(i||I.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=E.timers,r=I.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&Ue.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));(e||!o)&&E.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=I.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=E.timers,o=n?n.length:0;for(t.finish=!0,E.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var i=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Ve(r,!0),e,t,n)}}),E.each({slideDown:Ve("show"),slideUp:Ve("hide"),slideToggle:Ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(Fe=E.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),Fe=void 0},E.fx.timer=function(e){E.timers.push(e),e()?E.fx.start():E.timers.pop()},E.fx.interval=13,E.fx.start=function(){Oe||(Oe=setInterval(E.fx.tick,E.fx.interval))},E.fx.stop=function(){clearInterval(Oe),Oe=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,r);t.stop=function(){clearTimeout(n)}})},Pe=y.createElement("input"),Be=y.createElement("select"),ze=Be.appendChild(y.createElement("option")),Pe.type="checkbox",v.checkOn=""!==Pe.value,v.optSelected=ze.selected,Be.disabled=!0,v.optDisabled=!ze.disabled,(Pe=y.createElement("input")).value="t",Pe.type="radio",v.radioValue="t"===Pe.value;var Qe,Ze=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return M(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===X?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(t=t.toLowerCase(),r=E.attrHooks[t]||(E.expr.match.bool.test(t)?Qe:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=E.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void E.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[i++];)r=E.propFix[n]||n,E.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&E.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Qe={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ze[t]||E.find.attr;Ze[t]=function(e,t,n){var r,i;return n||(i=Ze[t],Ze[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,Ze[t]=i),r}});var Je=/^(?:input|select|textarea|button)$/i;E.fn.extend({prop:function(e,t){return M(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!E.isXMLDoc(e))&&(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Je.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});var Ke=/[\t\r\n\f]/g;E.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,u=0,c=this.length;if(E.isFunction(t))return this.each(function(e){E(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(L)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ke," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=E.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(E.isFunction(t))return this.each(function(e){E(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(L)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ke," "):"")){for(o=0;i=e[o++];)for(;0<=r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a=t?E.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(i,t){var o=typeof i;return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):this.each(E.isFunction(i)?function(e){E(this).toggleClass(i.call(this,e,this.className,t),t)}:function(){if("string"===o)for(var e,t=0,n=E(this),r=i.match(L)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else(o===X||"boolean"===o)&&(this.className&&I.set(this,"__className__",this.className),this.className=this.className||!1===i?"":I.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Ke," ").indexOf(t))return!0;return!1}});var et=/\r/g;E.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=E.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":E.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(et,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:E.trim(E.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(!(!(n=r[u]).selected&&u!==i||(v.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&E.nodeName(n.parentNode,"optgroup"))){if(t=E(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=0<=E.inArray(r.value,o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){return E.isArray(t)?e.checked=0<=E.inArray(E(e).val(),t):void 0}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),E.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var tt=E.now(),nt=/\?/;E.parseJSON=function(e){return JSON.parse(e+"")},E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&E.error("Invalid XML: "+e),t};var rt,it,ot=/#.*$/,at=/([?&])_=[^&]*/,st=/^(.*?):[ \t]*([^\r\n]*)$/gm,ut=/^(?:GET|HEAD)$/,ct=/^\/\//,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ft={},ht={},pt="*/".concat("*");try{it=location.href}catch(e){(it=y.createElement("a")).href="",it=it.href}function dt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(L)||[];if(E.isFunction(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function mt(t,i,o,a){var s={},u=t===ht;function c(e){var r;return s[e]=!0,E.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),c(n),!1)}),r}return c(i.dataTypes[0])||!s["*"]&&c("*")}function gt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}rt=lt.exec(it.toLowerCase())||[],E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:it,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(rt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":E.parseJSON,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?gt(gt(e,E.ajaxSettings),t):gt(E.ajaxSettings,e)},ajaxPrefilter:dt(ft),ajaxTransport:dt(ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,f,h,n,p,r,d,i,m=E.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?E(g):E.event,y=E.Deferred(),x=E.Callbacks("once memory"),b=m.statusCode||{},o={},a={},w=0,s="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!n)for(n={};t=st.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return w||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)b[t]=[b[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||s;return l&&l.abort(t),u(0,t),this}};if(y.promise(T).complete=x.add,T.success=T.done,T.error=T.fail,m.url=((e||m.url||it)+"").replace(ot,"").replace(ct,rt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=E.trim(m.dataType||"*").toLowerCase().match(L)||[""],null==m.crossDomain&&(r=lt.exec(m.url.toLowerCase()),m.crossDomain=!(!r||r[1]===rt[1]&&r[2]===rt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(rt[3]||("http:"===rt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=E.param(m.data,m.traditional)),mt(ft,m,t,T),2===w)return T;for(i in(d=m.global)&&0==E.active++&&E.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!ut.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(nt.test(f)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=at.test(f)?f.replace(at,"$1_="+tt++):f+(nt.test(f)?"&":"?")+"_="+tt++)),m.ifModified&&(E.lastModified[f]&&T.setRequestHeader("If-Modified-Since",E.lastModified[f]),E.etag[f]&&T.setRequestHeader("If-None-Match",E.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&T.setRequestHeader("Content-Type",m.contentType),T.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+pt+"; q=0.01":""):m.accepts["*"]),m.headers)T.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(g,T,m)||2===w))return T.abort();for(i in s="abort",{success:1,error:1,complete:1})T[i](m[i]);if(l=mt(ht,m,t,T)){T.readyState=1,d&&v.trigger("ajaxSend",[T,m]),m.async&&0<m.timeout&&(p=setTimeout(function(){T.abort("timeout")},m.timeout));try{w=1,l.send(o,u)}catch(e){if(!(w<2))throw e;u(-1,e)}}else u(-1,"No Transport");function u(e,t,n,r){var i,o,a,s,u,c=t;2!==w&&(w=2,p&&clearTimeout(p),l=void 0,h=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(m,T,n)),s=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(m,s,T,i),i?(m.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(E.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(E.etag[f]=u)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,i=!(a=s.error))):(a=c,(e||!c)&&(c="error",e<0&&(e=0))),T.status=e,T.statusText=(t||c)+"",i?y.resolveWith(g,[o,c,T]):y.rejectWith(g,[T,c,a]),T.statusCode(b),b=void 0,d&&v.trigger(i?"ajaxSuccess":"ajaxError",[T,m,i?o:a]),x.fireWith(g,[T,c]),d&&(v.trigger("ajaxComplete",[T,m]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,i){E[i]=function(e,t,n,r){return E.isFunction(t)&&(r=r||n,n=t,t=void 0),E.ajax({url:e,type:i,dataType:r,data:t,success:n})}}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E._evalUrl=function(e){return E.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return E.isFunction(t)?this.each(function(e){E(this).wrapAll(t.call(this,e))}):(this[0]&&(e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return this.each(E.isFunction(n)?function(e){E(this).wrapInner(n.call(this,e))}:function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=E.isFunction(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){E.nodeName(this,"body")||E(this).replaceWith(this.childNodes)}).end()}}),E.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},E.expr.filters.visible=function(e){return!E.expr.filters.hidden(e)};var vt=/%20/g,yt=/\[\]$/,xt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;function Tt(n,e,r,i){var t;if(E.isArray(e))E.each(e,function(e,t){r||yt.test(n)?i(n,t):Tt(n+"["+("object"==typeof t?e:"")+"]",t,r,i)});else if(r||"object"!==E.type(e))i(n,e);else for(t in e)Tt(n+"["+t+"]",e[t],r,i)}E.param=function(e,t){var n,r=[],i=function(e,t){t=E.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=E.ajaxSettings&&E.ajaxSettings.traditional),E.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)Tt(n,e[n],t,i);return r.join("&").replace(vt,"+")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&wt.test(this.nodeName)&&!bt.test(e)&&(this.checked||!$.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:E.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}}),E.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Et=0,_t={},St={0:200,1223:204},Ct=E.ajaxSettings.xhr();d.ActiveXObject&&E(d).on("unload",function(){for(var e in _t)_t[e]()}),v.cors=!!Ct&&"withCredentials"in Ct,v.ajax=Ct=!!Ct,E.ajaxTransport(function(o){var a;return v.cors||Ct&&!o.crossDomain?{send:function(e,t){var n,r=o.xhr(),i=++Et;if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete _t[i],a=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?t(r.status,r.statusText):t(St[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=a(),r.onerror=a("error"),a=_t[i]=a("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}:void 0}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=E("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(r[0])},abort:function(){i&&i()}}});var At=[],kt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||E.expando+"_"+tt++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(kt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&kt.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=E.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(kt,"$1"+r):!1!==e.jsonp&&(e.url+=(nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||E.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=d[r],d[r]=function(){o=arguments},n.always(function(){d[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,At.push(r)),o&&E.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),E.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||y;var r=b.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=E.buildFragment([e],t,i),i&&i.length&&E(i).remove(),E.merge([],r.childNodes))};var Dt=E.fn.load;E.fn.load=function(e,t,n){if("string"!=typeof e&&Dt)return Dt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return 0<=s&&(r=E.trim(e.slice(s)),e=e.slice(0,s)),E.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&E.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},E.expr.filters.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length};var Lt=d.document.documentElement;function Rt(e){return E.isWindow(e)?e:9===e.nodeType&&e.defaultView}E.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=E.css(e,"position"),l=E(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=E.css(e,"top"),u=E.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+u).indexOf("auto")?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),E.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,E.contains(e,r)?(typeof r.getBoundingClientRect!==X&&(i=r.getBoundingClientRect()),n=Rt(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===E.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),E.nodeName(e[0],"html")||(r=e.offset()),r.top+=E.css(e[0],"borderTopWidth",!0),r.left+=E.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-E.css(n,"marginTop",!0),left:t.left-r.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Lt;e&&!E.nodeName(e,"html")&&"static"===E.css(e,"position");)e=e.offsetParent;return e||Lt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;E.fn[t]=function(e){return M(this,function(e,t,n){var r=Rt(e);return void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?d.pageXOffset:n,o?n:d.pageYOffset):e[t]=n)},t,e,arguments.length,null)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Ee(v.pixelPosition,function(e,t){return t?(t=Te(e,n),be.test(t)?E(e).position()[n]+"px":t):void 0})}),E.each({Height:"height",Width:"width"},function(o,a){E.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,e){E.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var r;return E.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):void 0===n?E.css(e,t,i):E.style(e,t,n,i)},a,n?e:void 0,n,null)}})}),E.fn.size=function(){return this.length},E.fn.andSelf=E.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var jt=d.jQuery,Mt=d.$;return E.noConflict=function(e){return d.$===E&&(d.$=Mt),e&&d.jQuery===E&&(d.jQuery=jt),E},typeof e===X&&(d.jQuery=d.$=E),E});var fx=function(){var c,e={};function u(e,t,n){return Math.max(e,Math.min(t,n))}function t(e){return{_:e,loadContentsOf:function(e){c=this._.gl,this._.loadContentsOf(e)},destroy:function(){c=this._.gl,this._.destroy()}}}function n(e){return t(v.fromElement(e))}function r(e,t,n){return this._.isInitialized&&e._.width==this.width&&e._.height==this.height||function(e,t){var n=c.UNSIGNED_BYTE;if(c.getExtension("OES_texture_float")&&c.getExtension("OES_texture_float_linear")){var r=new v(100,100,c.RGBA,c.FLOAT);try{r.drawTo(function(){n=c.FLOAT})}catch(e){}r.destroy()}this._.texture&&this._.texture.destroy(),this._.spareTexture&&this._.spareTexture.destroy(),this.width=e,this.height=t,this._.texture=new v(e,t,c.RGBA,n),this._.spareTexture=new v(e,t,c.RGBA,n),this._.extraTexture=this._.extraTexture||new v(0,0,c.RGBA,n),this._.flippedShader=this._.flippedShader||new m(null,"        uniform sampler2D texture;        varying vec2 texCoord;        void main() {            gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));        }    "),this._.isInitialized=!0}.call(this,t||e._.width,n||e._.height),e._.use(),this._.texture.drawTo(function(){m.getDefaultShader().drawRect()}),this}function i(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function l(e,t,n,r){(n||this._.texture).use(),this._.spareTexture.drawTo(function(){e.uniforms(t).drawRect()}),this._.spareTexture.swapWith(r||this._.texture)}function o(e){return e.parentNode.insertBefore(this,e),e.parentNode.removeChild(e),this}function a(){var e=new v(this._.texture.width,this._.texture.height,c.RGBA,c.UNSIGNED_BYTE);return this._.texture.use(),e.drawTo(function(){m.getDefaultShader().drawRect()}),t(e)}function f(){var e=this._.texture.width,t=this._.texture.height,n=new Uint8Array(e*t*4);return this._.texture.drawTo(function(){c.readPixels(0,0,e,t,c.RGBA,c.UNSIGNED_BYTE,n)}),n}function s(e){var t=this._.texture.width,n=this._.texture.height,r=f.call(this),i=document.createElement("canvas"),o=i.getContext("2d");i.width=t,i.height=n;for(var a=o.createImageData(t,n),s=0;s<r.length;s++)a.data[s]=r[s];return o.putImageData(a,0,0),i.toDataURL(e)}function h(e){return function(){return c=this._.gl,e.apply(this,arguments)}}function p(e,t,n,r,i,o,a,s){var u=n-i,c=r-o,l=a-i,f=s-o,h=e-n+i-a,p=t-r+o-s,d=u*f-l*c,m=(h*f-l*p)/d,g=(u*p-h*c)/d;return[n-e+m*n,r-t+m*r,m,a-e+g*a,s-t+g*s,g,e,t,1]}function d(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s;return[(o*c-a*u)/l,(r*u-n*c)/l,(n*a-r*o)/l,(a*s-i*c)/l,(t*c-r*s)/l,(r*i-t*a)/l,(i*u-o*s)/l,(n*s-t*u)/l,(t*o-n*i)/l]}!function(){try{var e=document.createElement("canvas").getContext("webgl")}catch(e){}if(e&&-1===e.getSupportedExtensions().indexOf("OES_texture_float_linear")&&function(e){if(!e.getExtension("OES_texture_float"))return!1;var t=e.createFramebuffer(),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,2,2,0,e.RGBA,e.FLOAT,new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var i=e.createProgram(),o=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,"      attribute vec2 vertex;      void main() {        gl_Position = vec4(vertex, 0.0, 1.0);      }    "),e.shaderSource(a,"      uniform sampler2D texture;      void main() {        gl_FragColor = texture2D(texture, vec2(0.5));      }    "),e.compileShader(o),e.compileShader(a),e.attachShader(i,o),e.attachShader(i,a),e.linkProgram(i);var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0]),e.STREAM_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0);var u=new Uint8Array(4);return e.useProgram(i),e.viewport(0,0,1,1),e.bindTexture(e.TEXTURE_2D,r),e.drawArrays(e.POINTS,0,1),e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,u),127===u[0]||128===u[0]}(e)){var n=WebGLRenderingContext.prototype.getExtension,t=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=function(e){return"OES_texture_float_linear"===e?(void 0===(t=this).$OES_texture_float_linear$&&Object.defineProperty(t,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new function(){}}),t.$OES_texture_float_linear$):n.call(this,e);var t},WebGLRenderingContext.prototype.getSupportedExtensions=function(){var e=t.call(this);return-1===e.indexOf("OES_texture_float_linear")&&e.push("OES_texture_float_linear"),e}}}(),e.canvas=function(){var e=document.createElement("canvas");try{c=e.getContext("webgl",{premultipliedAlpha:!1})}catch(e){c=null}if(!c)throw"This browser does not support WebGL";return e._={gl:c,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},e.texture=h(n),e.draw=h(r),e.update=h(i),e.replace=h(o),e.contents=h(a),e.getPixelArray=h(f),e.toDataURL=h(s),e.brightnessContrast=h(b),e.hexagonalPixelate=h(O),e.hueSaturation=h(_),e.colorHalftone=h(N),e.triangleBlur=h(j),e.unsharpMask=h(A),e.perspective=h(q),e.matrixWarp=h(z),e.bulgePinch=h(B),e.tiltShift=h(R),e.dotScreen=h(I),e.edgeWork=h(F),e.lensBlur=h(L),e.zoomBlur=h(M),e.noise=h(S),e.denoise=h(E),e.curves=h(T),e.swirl=h(W),e.ink=h(P),e.vignette=h(D),e.vibrance=h(k),e.sepia=h(C),e},e.splineInterpolate=w;var m=function(){function n(e,t){var n=c.createShader(e);if(c.shaderSource(n,t),c.compileShader(n),!c.getShaderParameter(n,c.COMPILE_STATUS))throw"compile error: "+c.getShaderInfoLog(n);return n}var r="    attribute vec2 vertex;    attribute vec2 _texCoord;    varying vec2 texCoord;    void main() {        texCoord = _texCoord;        gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);    }",i="    uniform sampler2D texture;    varying vec2 texCoord;    void main() {        gl_FragColor = texture2D(texture, texCoord);    }";function e(e,t){if(this.vertexAttribute=null,this.texCoordAttribute=null,this.program=c.createProgram(),e=e||r,t="precision highp float;"+(t=t||i),c.attachShader(this.program,n(c.VERTEX_SHADER,e)),c.attachShader(this.program,n(c.FRAGMENT_SHADER,t)),c.linkProgram(this.program),!c.getProgramParameter(this.program,c.LINK_STATUS))throw"link error: "+c.getProgramInfoLog(this.program)}return e.prototype.destroy=function(){c.deleteProgram(this.program),this.program=null},e.prototype.uniforms=function(e){for(var t in c.useProgram(this.program),e)if(e.hasOwnProperty(t)){var n=c.getUniformLocation(this.program,t);if(null!==n){var r=e[t];if(o=r,"[object Array]"==Object.prototype.toString.call(o))switch(r.length){case 1:c.uniform1fv(n,new Float32Array(r));break;case 2:c.uniform2fv(n,new Float32Array(r));break;case 3:c.uniform3fv(n,new Float32Array(r));break;case 4:c.uniform4fv(n,new Float32Array(r));break;case 9:c.uniformMatrix3fv(n,!1,new Float32Array(r));break;case 16:c.uniformMatrix4fv(n,!1,new Float32Array(r));break;default:throw"dont't know how to load uniform \""+t+'" of length '+r.length}else{if(i=r,"[object Number]"!=Object.prototype.toString.call(i))throw'attempted to set uniform "'+t+'" to invalid value '+(r||"undefined").toString();c.uniform1f(n,r)}}}var i,o;return this},e.prototype.textures=function(e){for(var t in c.useProgram(this.program),e)e.hasOwnProperty(t)&&c.uniform1i(c.getUniformLocation(this.program,t),e[t]);return this},e.prototype.drawRect=function(e,t,n,r){var i,o=c.getParameter(c.VIEWPORT);t=t!==i?(t-o[1])/o[3]:0,e=e!==i?(e-o[0])/o[2]:0,n=n!==i?(n-o[0])/o[2]:1,r=r!==i?(r-o[1])/o[3]:1,null==c.vertexBuffer&&(c.vertexBuffer=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,c.vertexBuffer),c.bufferData(c.ARRAY_BUFFER,new Float32Array([e,t,e,r,n,t,n,r]),c.STATIC_DRAW),null==c.texCoordBuffer&&(c.texCoordBuffer=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,c.texCoordBuffer),c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),c.STATIC_DRAW)),null==this.vertexAttribute&&(this.vertexAttribute=c.getAttribLocation(this.program,"vertex"),c.enableVertexAttribArray(this.vertexAttribute)),null==this.texCoordAttribute&&(this.texCoordAttribute=c.getAttribLocation(this.program,"_texCoord"),c.enableVertexAttribArray(this.texCoordAttribute)),c.useProgram(this.program),c.bindBuffer(c.ARRAY_BUFFER,c.vertexBuffer),c.vertexAttribPointer(this.vertexAttribute,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,c.texCoordBuffer),c.vertexAttribPointer(this.texCoordAttribute,2,c.FLOAT,!1,0,0),c.drawArrays(c.TRIANGLE_STRIP,0,4)},e.getDefaultShader=function(){return c.defaultShader=c.defaultShader||new e,c.defaultShader},e}();function g(e){var t=e.length;this.xa=[],this.ya=[],this.u=[],this.y2=[],e.sort(function(e,t){return e[0]-t[0]});for(var n=0;n<t;n++)this.xa.push(e[n][0]),this.ya.push(e[n][1]);this.u[0]=0,this.y2[0]=0;for(n=1;n<t-1;++n){var r=this.xa[n+1]-this.xa[n-1],i=(this.xa[n]-this.xa[n-1])/r,o=i*this.y2[n-1]+2;this.y2[n]=(i-1)/o;var a=(this.ya[n+1]-this.ya[n])/(this.xa[n+1]-this.xa[n])-(this.ya[n]-this.ya[n-1])/(this.xa[n]-this.xa[n-1]);this.u[n]=(6*a/r-i*this.u[n-1])/o}this.y2[t-1]=0;for(n=t-2;0<=n;--n)this.y2[n]=this.y2[n]*this.y2[n+1]+this.u[n]}g.prototype.interpolate=function(e){for(var t=0,n=this.ya.length-1;1<n-t;){var r=n+t>>1;this.xa[r]>e?n=r:t=r}var i=this.xa[n]-this.xa[t],o=(this.xa[n]-e)/i,a=(e-this.xa[t])/i;return o*this.ya[t]+a*this.ya[n]+((o*o*o-o)*this.y2[t]+(a*a*a-a)*this.y2[n])*(i*i)/6};var v=function(){function n(e,t,n,r){this.gl=c,this.id=c.createTexture(),this.width=e,this.height=t,this.format=n,this.type=r,c.bindTexture(c.TEXTURE_2D,this.id),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),e&&t&&c.texImage2D(c.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null)}n.fromElement=function(e){var t=new n(0,0,c.RGBA,c.UNSIGNED_BYTE);return t.loadContentsOf(e),t},n.prototype.loadContentsOf=function(e){this.width=e.width||e.videoWidth,this.height=e.height||e.videoHeight,c.bindTexture(c.TEXTURE_2D,this.id),c.texImage2D(c.TEXTURE_2D,0,this.format,this.format,this.type,e)},n.prototype.initFromBytes=function(e,t,n){this.width=e,this.height=t,this.format=c.RGBA,this.type=c.UNSIGNED_BYTE,c.bindTexture(c.TEXTURE_2D,this.id),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,e,t,0,c.RGBA,this.type,new Uint8Array(n))},n.prototype.destroy=function(){c.deleteTexture(this.id),this.id=null},n.prototype.use=function(e){c.activeTexture(c.TEXTURE0+(e||0)),c.bindTexture(c.TEXTURE_2D,this.id)},n.prototype.unuse=function(e){c.activeTexture(c.TEXTURE0+(e||0)),c.bindTexture(c.TEXTURE_2D,null)},n.prototype.ensureFormat=function(e,t,n,r){if(1==arguments.length){var i=e;e=i.width,t=i.height,n=i.format,r=i.type}e==this.width&&t==this.height&&n==this.format&&r==this.type||(this.width=e,this.height=t,this.format=n,this.type=r,c.bindTexture(c.TEXTURE_2D,this.id),c.texImage2D(c.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null))},n.prototype.drawTo=function(e){if(c.framebuffer=c.framebuffer||c.createFramebuffer(),c.bindFramebuffer(c.FRAMEBUFFER,c.framebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.id,0),c.checkFramebufferStatus(c.FRAMEBUFFER)!==c.FRAMEBUFFER_COMPLETE)throw new Error("incomplete framebuffer");c.viewport(0,0,this.width,this.height),e(),c.bindFramebuffer(c.FRAMEBUFFER,null)};var a=null;function s(e){null==a&&(a=document.createElement("canvas")),a.width=e.width,a.height=e.height;var t=a.getContext("2d");return t.clearRect(0,0,a.width,a.height),t}return n.prototype.fillUsingCanvas=function(e){return e(s(this)),this.format=c.RGBA,this.type=c.UNSIGNED_BYTE,c.bindTexture(c.TEXTURE_2D,this.id),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a),this},n.prototype.toImage=function(e){this.use(),m.getDefaultShader().drawRect();var t=this.width*this.height*4,n=new Uint8Array(t),r=s(this),i=r.createImageData(this.width,this.height);c.readPixels(0,0,this.width,this.height,c.RGBA,c.UNSIGNED_BYTE,n);for(var o=0;o<t;o++)i.data[o]=n[o];r.putImageData(i,0,0),e.src=a.toDataURL()},n.prototype.swapWith=function(e){var t;t=e.id,e.id=this.id,this.id=t,t=e.width,e.width=this.width,this.width=t,t=e.height,e.height=this.height,this.height=t,t=e.format,e.format=this.format,this.format=t},n}();function y(e,t){return new m(null,e+"    uniform sampler2D texture;    uniform vec2 texSize;    varying vec2 texCoord;    void main() {        vec2 coord = texCoord * texSize;        "+t+"        gl_FragColor = texture2D(texture, coord / texSize);        vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);        if (coord != clampedCoord) {            /* fade to transparent if we are outside the image */            gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));        }    }")}var x="    float random(vec3 scale, float seed) {        /* use the fragment position for a different seed per-pixel */        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);    }";function b(e,t){return c.brightnessContrast=c.brightnessContrast||new m(null,"        uniform sampler2D texture;        uniform float brightness;        uniform float contrast;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);            color.rgb += brightness;            if (contrast > 0.0) {                color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;            } else {                color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;            }            gl_FragColor = color;        }    "),l.call(this,c.brightnessContrast,{brightness:u(-1,e,1),contrast:u(-1,t,1)}),this}function w(e){for(var t=new g(e),n=[],r=0;r<256;r++)n.push(u(0,Math.floor(256*t.interpolate(r/255)),255));return n}function T(e,t,n){e=w(e),1==arguments.length?t=n=e:(t=w(t),n=w(n));for(var r=[],i=0;i<256;i++)r.splice(r.length,0,e[i],t[i],n[i],255);return this._.extraTexture.initFromBytes(256,1,r),this._.extraTexture.use(1),c.curves=c.curves||new m(null,"        uniform sampler2D texture;        uniform sampler2D map;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);            color.r = texture2D(map, vec2(color.r)).r;            color.g = texture2D(map, vec2(color.g)).g;            color.b = texture2D(map, vec2(color.b)).b;            gl_FragColor = color;        }    "),c.curves.textures({map:1}),l.call(this,c.curves,{}),this}function E(e){c.denoise=c.denoise||new m(null,"        uniform sampler2D texture;        uniform float exponent;        uniform float strength;        uniform vec2 texSize;        varying vec2 texCoord;        void main() {            vec4 center = texture2D(texture, texCoord);            vec4 color = vec4(0.0);            float total = 0.0;            for (float x = -4.0; x <= 4.0; x += 1.0) {                for (float y = -4.0; y <= 4.0; y += 1.0) {                    vec4 sample = texture2D(texture, texCoord + vec2(x, y) / texSize);                    float weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));                    weight = pow(weight, exponent);                    color += sample * weight;                    total += weight;                }            }            gl_FragColor = color / total;        }    ");for(var t=0;t<2;t++)l.call(this,c.denoise,{exponent:Math.max(0,e),texSize:[this.width,this.height]});return this}function _(e,t){return c.hueSaturation=c.hueSaturation||new m(null,"        uniform sampler2D texture;        uniform float hue;        uniform float saturation;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);                        /* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */            float angle = hue * 3.14159265;            float s = sin(angle), c = cos(angle);            vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;            float len = length(color.rgb);            color.rgb = vec3(                dot(color.rgb, weights.xyz),                dot(color.rgb, weights.zxy),                dot(color.rgb, weights.yzx)            );                        /* saturation adjustment */            float average = (color.r + color.g + color.b) / 3.0;            if (saturation > 0.0) {                color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));            } else {                color.rgb += (average - color.rgb) * (-saturation);            }                        gl_FragColor = color;        }    "),l.call(this,c.hueSaturation,{hue:u(-1,e,1),saturation:u(-1,t,1)}),this}function S(e){return c.noise=c.noise||new m(null,"        uniform sampler2D texture;        uniform float amount;        varying vec2 texCoord;        float rand(vec2 co) {            return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);        }        void main() {            vec4 color = texture2D(texture, texCoord);                        float diff = (rand(texCoord) - 0.5) * amount;            color.r += diff;            color.g += diff;            color.b += diff;                        gl_FragColor = color;        }    "),l.call(this,c.noise,{amount:u(0,e,1)}),this}function C(e){return c.sepia=c.sepia||new m(null,"        uniform sampler2D texture;        uniform float amount;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);            float r = color.r;            float g = color.g;            float b = color.b;                        color.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));            color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));            color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));                        gl_FragColor = color;        }    "),l.call(this,c.sepia,{amount:u(0,e,1)}),this}function A(e,t){return c.unsharpMask=c.unsharpMask||new m(null,"        uniform sampler2D blurredTexture;        uniform sampler2D originalTexture;        uniform float strength;        uniform float threshold;        varying vec2 texCoord;        void main() {            vec4 blurred = texture2D(blurredTexture, texCoord);            vec4 original = texture2D(originalTexture, texCoord);            gl_FragColor = mix(blurred, original, 1.0 + strength);        }    "),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){m.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(e),c.unsharpMask.textures({originalTexture:1}),l.call(this,c.unsharpMask,{strength:t}),this._.extraTexture.unuse(1),this}function k(e){return c.vibrance=c.vibrance||new m(null,"        uniform sampler2D texture;        uniform float amount;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);            float average = (color.r + color.g + color.b) / 3.0;            float mx = max(color.r, max(color.g, color.b));            float amt = (mx - average) * (-amount * 3.0);            color.rgb = mix(color.rgb, vec3(mx), amt);            gl_FragColor = color;        }    "),l.call(this,c.vibrance,{amount:u(-1,e,1)}),this}function D(e,t){return c.vignette=c.vignette||new m(null,"        uniform sampler2D texture;        uniform float size;        uniform float amount;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);                        float dist = distance(texCoord, vec2(0.5, 0.5));            color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));                        gl_FragColor = color;        }    "),l.call(this,c.vignette,{size:u(0,e,1),amount:u(0,t,1)}),this}function L(e,t,n){c.lensBlurPrePass=c.lensBlurPrePass||new m(null,"        uniform sampler2D texture;        uniform float power;        varying vec2 texCoord;        void main() {            vec4 color = texture2D(texture, texCoord);            color = pow(color, vec4(power));            gl_FragColor = vec4(color);        }    ");var r="        uniform sampler2D texture0;        uniform sampler2D texture1;        uniform vec2 delta0;        uniform vec2 delta1;        uniform float power;        varying vec2 texCoord;        "+x+"        vec4 sample(vec2 delta) {            /* randomize the lookup values to hide the fixed number of samples */            float offset = random(vec3(delta, 151.7182), 0.0);                        vec4 color = vec4(0.0);            float total = 0.0;            for (float t = 0.0; t <= 30.0; t++) {                float percent = (t + offset) / 30.0;                color += texture2D(texture0, texCoord + delta * percent);                total += 1.0;            }            return color / total;        }    ";c.lensBlur0=c.lensBlur0||new m(null,r+"        void main() {            gl_FragColor = sample(delta0);        }    "),c.lensBlur1=c.lensBlur1||new m(null,r+"        void main() {            gl_FragColor = (sample(delta0) + sample(delta1)) * 0.5;        }    "),c.lensBlur2=c.lensBlur2||new m(null,r+"        void main() {            vec4 color = (sample(delta0) + 2.0 * texture2D(texture1, texCoord)) / 3.0;            gl_FragColor = pow(color, vec4(power));        }    ").textures({texture1:1});for(var i=[],o=0;o<3;o++){var a=n+o*Math.PI*2/3;i.push([e*Math.sin(a)/this.width,e*Math.cos(a)/this.height])}var s=Math.pow(10,u(-1,t,1));return l.call(this,c.lensBlurPrePass,{power:s}),this._.extraTexture.ensureFormat(this._.texture),l.call(this,c.lensBlur0,{delta0:i[0]},this._.texture,this._.extraTexture),l.call(this,c.lensBlur1,{delta0:i[1],delta1:i[2]},this._.extraTexture,this._.extraTexture),l.call(this,c.lensBlur0,{delta0:i[1]}),this._.extraTexture.use(1),l.call(this,c.lensBlur2,{power:1/s,delta0:i[2]}),this}function R(e,t,n,r,i,o){c.tiltShift=c.tiltShift||new m(null,"        uniform sampler2D texture;        uniform float blurRadius;        uniform float gradientRadius;        uniform vec2 start;        uniform vec2 end;        uniform vec2 delta;        uniform vec2 texSize;        varying vec2 texCoord;        "+x+"        void main() {            vec4 color = vec4(0.0);            float total = 0.0;                        /* randomize the lookup values to hide the fixed number of samples */            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);                        vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));            float radius = smoothstep(0.0, 1.0, abs(dot(texCoord * texSize - start, normal)) / gradientRadius) * blurRadius;            for (float t = -30.0; t <= 30.0; t++) {                float percent = (t + offset - 0.5) / 30.0;                float weight = 1.0 - abs(percent);                vec4 sample = texture2D(texture, texCoord + delta / texSize * percent * radius);                                /* switch to pre-multiplied alpha to correctly blur transparent images */                sample.rgb *= sample.a;                                color += sample * weight;                total += weight;            }                        gl_FragColor = color / total;                        /* switch back from pre-multiplied alpha */            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;        }    ");var a=n-e,s=r-t,u=Math.sqrt(a*a+s*s);return l.call(this,c.tiltShift,{blurRadius:i,gradientRadius:o,start:[e,t],end:[n,r],delta:[a/u,s/u],texSize:[this.width,this.height]}),l.call(this,c.tiltShift,{blurRadius:i,gradientRadius:o,start:[e,t],end:[n,r],delta:[-s/u,a/u],texSize:[this.width,this.height]}),this}function j(e){return c.triangleBlur=c.triangleBlur||new m(null,"        uniform sampler2D texture;        uniform vec2 delta;        varying vec2 texCoord;        "+x+"        void main() {            vec4 color = vec4(0.0);            float total = 0.0;                        /* randomize the lookup values to hide the fixed number of samples */            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);                        for (float t = -30.0; t <= 30.0; t++) {                float percent = (t + offset - 0.5) / 30.0;                float weight = 1.0 - abs(percent);                vec4 sample = texture2D(texture, texCoord + delta * percent);                                /* switch to pre-multiplied alpha to correctly blur transparent images */                sample.rgb *= sample.a;                                color += sample * weight;                total += weight;            }                        gl_FragColor = color / total;                        /* switch back from pre-multiplied alpha */            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;        }    "),l.call(this,c.triangleBlur,{delta:[e/this.width,0]}),l.call(this,c.triangleBlur,{delta:[0,e/this.height]}),this}function M(e,t,n){return c.zoomBlur=c.zoomBlur||new m(null,"        uniform sampler2D texture;        uniform vec2 center;        uniform float strength;        uniform vec2 texSize;        varying vec2 texCoord;        "+x+"        void main() {            vec4 color = vec4(0.0);            float total = 0.0;            vec2 toCenter = center - texCoord * texSize;                        /* randomize the lookup values to hide the fixed number of samples */            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);                        for (float t = 0.0; t <= 40.0; t++) {                float percent = (t + offset) / 40.0;                float weight = 4.0 * (percent - percent * percent);                vec4 sample = texture2D(texture, texCoord + toCenter * percent * strength / texSize);                                /* switch to pre-multiplied alpha to correctly blur transparent images */                sample.rgb *= sample.a;                                color += sample * weight;                total += weight;            }                        gl_FragColor = color / total;                        /* switch back from pre-multiplied alpha */            gl_FragColor.rgb /= gl_FragColor.a + 0.00001;        }    "),l.call(this,c.zoomBlur,{center:[e,t],strength:n,texSize:[this.width,this.height]}),this}function N(e,t,n,r){return c.colorHalftone=c.colorHalftone||new m(null,"        uniform sampler2D texture;        uniform vec2 center;        uniform float angle;        uniform float scale;        uniform vec2 texSize;        varying vec2 texCoord;                float pattern(float angle) {            float s = sin(angle), c = cos(angle);            vec2 tex = texCoord * texSize - center;            vec2 point = vec2(                c * tex.x - s * tex.y,                s * tex.x + c * tex.y            ) * scale;            return (sin(point.x) * sin(point.y)) * 4.0;        }                void main() {            vec4 color = texture2D(texture, texCoord);            vec3 cmy = 1.0 - color.rgb;            float k = min(cmy.x, min(cmy.y, cmy.z));            cmy = (cmy - k) / (1.0 - k);            cmy = clamp(cmy * 10.0 - 3.0 + vec3(pattern(angle + 0.26179), pattern(angle + 1.30899), pattern(angle)), 0.0, 1.0);            k = clamp(k * 10.0 - 5.0 + pattern(angle + 0.78539), 0.0, 1.0);            gl_FragColor = vec4(1.0 - cmy - k, color.a);        }    "),l.call(this,c.colorHalftone,{center:[e,t],angle:n,scale:Math.PI/r,texSize:[this.width,this.height]}),this}function I(e,t,n,r){return c.dotScreen=c.dotScreen||new m(null,"        uniform sampler2D texture;        uniform vec2 center;        uniform float angle;        uniform float scale;        uniform vec2 texSize;        varying vec2 texCoord;                float pattern() {            float s = sin(angle), c = cos(angle);            vec2 tex = texCoord * texSize - center;            vec2 point = vec2(                c * tex.x - s * tex.y,                s * tex.x + c * tex.y            ) * scale;            return (sin(point.x) * sin(point.y)) * 4.0;        }                void main() {            vec4 color = texture2D(texture, texCoord);            float average = (color.r + color.g + color.b) / 3.0;            gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);        }    "),l.call(this,c.dotScreen,{center:[e,t],angle:n,scale:Math.PI/r,texSize:[this.width,this.height]}),this}function F(e){return c.edgeWork1=c.edgeWork1||new m(null,"        uniform sampler2D texture;        uniform vec2 delta;        varying vec2 texCoord;        "+x+"        void main() {            vec2 color = vec2(0.0);            vec2 total = vec2(0.0);                        /* randomize the lookup values to hide the fixed number of samples */            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);                        for (float t = -30.0; t <= 30.0; t++) {                float percent = (t + offset - 0.5) / 30.0;                float weight = 1.0 - abs(percent);                vec3 sample = texture2D(texture, texCoord + delta * percent).rgb;                float average = (sample.r + sample.g + sample.b) / 3.0;                color.x += average * weight;                total.x += weight;                if (abs(t) < 15.0) {                    weight = weight * 2.0 - 1.0;                    color.y += average * weight;                    total.y += weight;                }            }            gl_FragColor = vec4(color / total, 0.0, 1.0);        }    "),c.edgeWork2=c.edgeWork2||new m(null,"        uniform sampler2D texture;        uniform vec2 delta;        varying vec2 texCoord;        "+x+"        void main() {            vec2 color = vec2(0.0);            vec2 total = vec2(0.0);                        /* randomize the lookup values to hide the fixed number of samples */            float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);                        for (float t = -30.0; t <= 30.0; t++) {                float percent = (t + offset - 0.5) / 30.0;                float weight = 1.0 - abs(percent);                vec2 sample = texture2D(texture, texCoord + delta * percent).xy;                color.x += sample.x * weight;                total.x += weight;                if (abs(t) < 15.0) {                    weight = weight * 2.0 - 1.0;                    color.y += sample.y * weight;                    total.y += weight;                }            }            float c = clamp(10000.0 * (color.y / total.y - color.x / total.x) + 0.5, 0.0, 1.0);            gl_FragColor = vec4(c, c, c, 1.0);        }    "),l.call(this,c.edgeWork1,{delta:[e/this.width,0]}),l.call(this,c.edgeWork2,{delta:[0,e/this.height]}),this}function O(e,t,n){return c.hexagonalPixelate=c.hexagonalPixelate||new m(null,"        uniform sampler2D texture;        uniform vec2 center;        uniform float scale;        uniform vec2 texSize;        varying vec2 texCoord;        void main() {            vec2 tex = (texCoord * texSize - center) / scale;            tex.y /= 0.866025404;            tex.x -= tex.y * 0.5;                        vec2 a;            if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) a = vec2(floor(tex.x), floor(tex.y));            else a = vec2(ceil(tex.x), ceil(tex.y));            vec2 b = vec2(ceil(tex.x), floor(tex.y));            vec2 c = vec2(floor(tex.x), ceil(tex.y));                        vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);            vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);            vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);            vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);                        float alen = length(TEX - A);            float blen = length(TEX - B);            float clen = length(TEX - C);                        vec2 choice;            if (alen < blen) {                if (alen < clen) choice = a;                else choice = c;            } else {                if (blen < clen) choice = b;                else choice = c;            }                        choice.x += choice.y * 0.5;            choice.y *= 0.866025404;            choice *= scale / texSize;            gl_FragColor = texture2D(texture, choice + center / texSize);        }    "),l.call(this,c.hexagonalPixelate,{center:[e,t],scale:n,texSize:[this.width,this.height]}),this}function P(e){return c.ink=c.ink||new m(null,"        uniform sampler2D texture;        uniform float strength;        uniform vec2 texSize;        varying vec2 texCoord;        void main() {            vec2 dx = vec2(1.0 / texSize.x, 0.0);            vec2 dy = vec2(0.0, 1.0 / texSize.y);            vec4 color = texture2D(texture, texCoord);            float bigTotal = 0.0;            float smallTotal = 0.0;            vec3 bigAverage = vec3(0.0);            vec3 smallAverage = vec3(0.0);            for (float x = -2.0; x <= 2.0; x += 1.0) {                for (float y = -2.0; y <= 2.0; y += 1.0) {                    vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;                    bigAverage += sample;                    bigTotal += 1.0;                    if (abs(x) + abs(y) < 2.0) {                        smallAverage += sample;                        smallTotal += 1.0;                    }                }            }            vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);            gl_FragColor = vec4(color.rgb - dot(edge, edge) * strength * 100000.0, color.a);        }    "),l.call(this,c.ink,{strength:e*e*e*e*e,texSize:[this.width,this.height]}),this}function B(e,t,n,r){return c.bulgePinch=c.bulgePinch||y("        uniform float radius;        uniform float strength;        uniform vec2 center;    ","        coord -= center;        float distance = length(coord);        if (distance < radius) {            float percent = distance / radius;            if (strength > 0.0) {                coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);            } else {                coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);            }        }        coord += center;    "),l.call(this,c.bulgePinch,{radius:n,strength:u(-1,r,1),center:[e,t],texSize:[this.width,this.height]}),this}function z(e,t,n){if(c.matrixWarp=c.matrixWarp||y("        uniform mat3 matrix;        uniform bool useTextureSpace;    ","        if (useTextureSpace) coord = coord / texSize * 2.0 - 1.0;        vec3 warp = matrix * vec3(coord, 1.0);        coord = warp.xy / warp.z;        if (useTextureSpace) coord = (coord * 0.5 + 0.5) * texSize;    "),4==(e=Array.prototype.concat.apply([],e)).length)e=[e[0],e[1],0,e[2],e[3],0,0,0,1];else if(9!=e.length)throw"can only warp with 2x2 or 3x3 matrix";return l.call(this,c.matrixWarp,{matrix:t?d(e):e,texSize:[this.width,this.height],useTextureSpace:0|n}),this}function q(e,t){var n,r,i=p.apply(null,t),o=p.apply(null,e),a=(n=d(i),r=o,[n[0]*r[0]+n[1]*r[3]+n[2]*r[6],n[0]*r[1]+n[1]*r[4]+n[2]*r[7],n[0]*r[2]+n[1]*r[5]+n[2]*r[8],n[3]*r[0]+n[4]*r[3]+n[5]*r[6],n[3]*r[1]+n[4]*r[4]+n[5]*r[7],n[3]*r[2]+n[4]*r[5]+n[5]*r[8],n[6]*r[0]+n[7]*r[3]+n[8]*r[6],n[6]*r[1]+n[7]*r[4]+n[8]*r[7],n[6]*r[2]+n[7]*r[5]+n[8]*r[8]]);return this.matrixWarp(a)}function W(e,t,n,r){return c.swirl=c.swirl||y("        uniform float radius;        uniform float angle;        uniform vec2 center;    ","        coord -= center;        float distance = length(coord);        if (distance < radius) {            float percent = (radius - distance) / radius;            float theta = percent * percent * angle;            float s = sin(theta);            float c = cos(theta);            coord = vec2(                coord.x * c - coord.y * s,                coord.x * s + coord.y * c            );        }        coord += center;    "),l.call(this,c.swirl,{radius:n,center:[e,t],angle:r,texSize:[this.width,this.height]}),this}return e}();"use strict";var numeric="undefined"==typeof exports?function(){}:exports,$,applyTransform,getTransform,makeTransformable;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,t){var n,r,i;for(void 0===t&&(t=15),r=.5,n=new Date;;){for(i=r*=2;3<i;i-=4)e(),e(),e(),e();for(;0<i;)e(),i--;if(t<new Date-n)break}for(i=r;3<i;i-=4)e(),e(),e(),e();for(;0<i;)e(),i--;return 1e3*(3*r-1)/(new Date-n)},numeric._myIndexOf=function(e){var t,n=this.length;for(t=0;t<n;++t)if(this[t]===e)return t;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(e){var u=[];return function e(t){var n;if(void 0===t)return u.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return u.push('"'+t+'"'),!1;if("boolean"==typeof t)return u.push(t.toString()),!1;if("number"==typeof t){var r=function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var n=Math.floor(Math.log(t)/Math.log(10)),r=t/Math.pow(10,n),i=r.toPrecision(numeric.precision);return 10===parseFloat(i)&&(n++,i=(r=1).toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+n.toString()}return"Infinity"}(t),i=t.toPrecision(numeric.precision),o=parseFloat(t.toString()).toString(),a=[r,i,o,parseFloat(i).toString(),parseFloat(o).toString()];for(n=1;n<a.length;n++)a[n].length<r.length&&(r=a[n]);return u.push(Array(numeric.precision+8-r.length).join(" ")+r),!1}if(null===t)return u.push("null"),!1;if("function"==typeof t){u.push(t.toString());var s=!1;for(n in t)t.hasOwnProperty(n)&&(s?u.push(",\n"):u.push("\n{"),s=!0,u.push(n),u.push(": \n"),e(t[n]));return s&&u.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return u.push("...Large Array..."),!0;for(s=!1,u.push("["),n=0;n<t.length;n++)0<n&&(u.push(","),s&&u.push("\n ")),s=e(t[n]);return u.push("]"),!0}u.push("{");s=!1;for(n in t)t.hasOwnProperty(n)&&(s&&u.push(",\n"),s=!0,u.push(n),u.push(": \n"),e(t[n]));return u.push("}"),!0}(e),u.join("")},numeric.parseDate=function(e){return function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(t instanceof Array){var n,r=[];for(n=0;n<t.length;n++)r[n]=e(t[n]);return r}throw new Error("parseDate: parameter must be arrays of strings")}(e)},numeric.parseFloat=function(e){return function e(t){if("string"==typeof t)return parseFloat(t);if(t instanceof Array){var n,r=[];for(n=0;n<t.length;n++)r[n]=e(t[n]);return r}throw new Error("parseFloat: parameter must be arrays of strings")}(e)},numeric.parseCSV=function(e){var t,n,r,i=e.split("\n"),o=[],a=/(([^'",]*)|('[^']*')|("[^"]*")),/g,s=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,u=0;for(n=0;n<i.length;n++){var c,l=(i[n]+",").match(a);if(0<l.length){for(o[u]=[],t=0;t<l.length;t++)c=(r=l[t]).substr(0,r.length-1),s.test(c)?o[u][t]=parseFloat(c):o[u][t]=c;u++}}return o},numeric.toCSV=function(e){var t,n,r,i,o,a=numeric.dim(e);for(r=a[0],a[1],o=[],t=0;t<r;t++){for(i=[],n=0;n<r;n++)i[n]=e[t][n].toString();o[t]=i.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t},numeric.imageURL=function(e){function t(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var r,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;e.length;for(r=t;r<n;r++)o=o>>>8^i[255&(o^e[r])];return-1^o}var n,r,i,o,a,s,u,c,l,f,h=e[0].length,p=e[0][0].length,d=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,h>>24&255,h>>16&255,h>>8&255,255&h,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(f=t(d,12,29),d[29]=f>>24&255,d[30]=f>>16&255,d[31]=f>>8&255,d[32]=255&f,n=1,u=r=0;u<h;u++){for(u<h-1?d.push(0):d.push(1),a=3*p+1+(0===u)&255,s=3*p+1+(0===u)>>8&255,d.push(a),d.push(s),d.push(255&~a),d.push(255&~s),0===u&&d.push(0),c=0;c<p;c++)for(i=0;i<3;i++)r=(r+(n=(n+(a=255<(a=e[i][u][c])?255:a<0?0:Math.round(a)))%65521))%65521,d.push(a);d.push(0)}return l=(r<<16)+n,d.push(l>>24&255),d.push(l>>16&255),d.push(l>>8&255),d.push(255&l),o=d.length-41,d[33]=o>>24&255,d[34]=o>>16&255,d[35]=o>>8&255,d[36]=255&o,f=t(d,37),d.push(f>>24&255),d.push(f>>16&255),d.push(f>>8&255),d.push(255&f),d.push(0),d.push(0),d.push(0),d.push(0),d.push(73),d.push(69),d.push(78),d.push(68),d.push(174),d.push(66),d.push(96),d.push(130),"data:image/png;base64,"+function(e){var t,n,r,i,o,a,s,u=e.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";for(t=0;t<u;t+=3)o=((3&(n=e[t]))<<4)+((r=e[t+1])>>4),a=((15&r)<<2)+((i=e[t+2])>>6),s=63&i,u<=t+1?a=s=64:u<=t+2&&(s=64),l+=c.charAt(n>>2)+c.charAt(o)+c.charAt(a)+c.charAt(s);return l}(d)},numeric._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},numeric.dim=function(e){var t;return"object"==typeof e?"object"==typeof(t=e[0])?"object"==typeof t[0]?numeric._dim(e):[e.length,t.length]:[e.length]:[]},numeric.mapreduce=function(e,t){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+t+';\nif(typeof x === "number") { var xi = x; '+e+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+e+";\n    xi = x[i-1];\n    "+e+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+e+"\n}\nreturn accum;")},numeric.mapreduce2=function(e,t){return Function("x","var n = x.length;\nvar i,xi;\n"+t+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+e+";\n}\nreturn accum;")},numeric.same=function e(t,n){var r,i;if(t instanceof Array&&n instanceof Array){if((i=t.length)!==n.length)return!1;for(r=0;r<i;r++)if(t[r]!==n[r]){if("object"!=typeof t[r])return!1;if(!e(t[r],n[r]))return!1}return!0}return!1},numeric.rep=function(e,t,n){void 0===n&&(n=0);var r,i=e[n],o=Array(i);if(n===e.length-1){for(r=i-2;0<=r;r-=2)o[r+1]=t,o[r]=t;return-1===r&&(o[0]=t),o}for(r=i-1;0<=r;r--)o[r]=numeric.rep(e,t,n+1);return o},numeric.dotMMsmall=function(e,t){var n,r,i,o,a,s,u,c,l,f,h;for(o=e.length,a=t.length,s=t[0].length,u=Array(o),n=o-1;0<=n;n--){for(c=Array(s),l=e[n],i=s-1;0<=i;i--){for(f=l[a-1]*t[a-1][i],r=a-2;1<=r;r-=2)h=r-1,f+=l[r]*t[r][i]+l[h]*t[h][i];0===r&&(f+=l[0]*t[0][i]),c[i]=f}u[n]=c}return u},numeric._getCol=function(e,t,n){var r;for(r=e.length-1;0<r;--r)n[r]=e[r][t],n[--r]=e[r][t];0===r&&(n[0]=e[0][t])},numeric.dotMMbig=function(e,t){var n,r,i,o=numeric._getCol,a=t.length,s=Array(a),u=e.length,c=t[0].length,l=new Array(u),f=numeric.dotVV;for(--a,r=--u;-1!==r;--r)l[r]=Array(c);for(r=--c;-1!==r;--r)for(o(t,r,s),i=u;-1!==i;--i)0,n=e[i],l[i][r]=f(n,s);return l},numeric.dotMV=function(e,t){var n,r=e.length,i=(t.length,Array(r)),o=numeric.dotVV;for(n=r-1;0<=n;n--)i[n]=o(e[n],t);return i},numeric.dotVM=function(e,t){var n,r,i,o,a,s,u;for(i=e.length,o=t[0].length,a=Array(o),r=o-1;0<=r;r--){for(s=e[i-1]*t[i-1][r],n=i-2;1<=n;n-=2)u=n-1,s+=e[n]*t[n][r]+e[u]*t[u][r];0===n&&(s+=e[0]*t[0][r]),a[r]=s}return a},numeric.dotVV=function(e,t){var n,r,i=e.length,o=e[i-1]*t[i-1];for(n=i-2;1<=n;n-=2)r=n-1,o+=e[n]*t[n]+e[r]*t[r];return 0===n&&(o+=e[0]*t[0]),o},numeric.dot=function(e,t){var n=numeric.dim;switch(1e3*n(e).length+n(t).length){case 2002:return t.length<10?numeric.dotMMsmall(e,t):numeric.dotMMbig(e,t);case 2001:return numeric.dotMV(e,t);case 1002:return numeric.dotVM(e,t);case 1001:return numeric.dotVV(e,t);case 1e3:return numeric.mulVS(e,t);case 1:return numeric.mulSV(e,t);case 0:return e*t;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var t,n,r,i,o=e.length,a=Array(o);for(t=o-1;0<=t;t--){for(i=Array(o),n=t+2,r=o-1;n<=r;r-=2)i[r]=0,i[r-1]=0;for(t<r&&(i[r]=0),i[t]=e[t],r=t-1;1<=r;r-=2)i[r]=0,i[r-1]=0;0===r&&(i[0]=0),a[t]=i}return a},numeric.getDiag=function(e){var t,n=Math.min(e.length,e[0].length),r=Array(n);for(t=n-1;1<=t;--t)r[t]=e[t][t],r[--t]=e[t][t];return 0===t&&(r[0]=e[0][0]),r},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,t,n){void 0===n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<e.length;r++)a.test(e[r])?s=i=e[r].substring(0,e[r].length-3):i=e[r],"ret"===i&&(u=!0),o.push(i);return o[e.length]="_s",o[e.length+1]="_k",o[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+e.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+t+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(e,t,n){void 0===n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<e.length;r++)a.test(e[r])?s=i=e[r].substring(0,e[r].length-3):i=e[r],"ret"===i&&(u=!0),o.push(i);return o[e.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+t+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function e(t,n,r,i,o){var a;if(i!==r.length-1)for(a=r[i]-1;0<=a;a--)e("object"==typeof t?t[a]:t,"object"==typeof n?n[a]:n,r,i+1,o);else o(t,n)},numeric._biforeach2=function e(t,n,r,i,o){if(i===r.length-1)return o(t,n);var a,s=r[i],u=Array(s);for(a=s-1;0<=a;--a)u[a]=e("object"==typeof t?t[a]:t,"object"==typeof n?n[a]:n,r,i+1,o);return u},numeric._foreach=function e(t,n,r,i){var o;if(r!==n.length-1)for(o=n[r]-1;0<=o;o--)e(t[o],n,r+1,i);else i(t)},numeric._foreach2=function e(t,n,r,i){if(r===n.length-1)return i(t);var o,a=n[r],s=Array(a);for(o=a-1;0<=o;o--)s[o]=e(t[o],n,r+1,i);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,r;for(e=0;e<numeric.mathfuns2.length;++e)r=numeric.mathfuns2[e],numeric.ops2[r]=r;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){r=numeric.ops2[e];var t,n,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,e)?(i="var "+r+" = Math."+r+";\n",t=function(e,t,n){return e+" = "+r+"("+t+","+n+")"},n=function(e,t){return e+" = "+r+"("+e+","+t+")"}):(t=function(e,t,n){return e+" = "+t+" "+r+" "+n},n=numeric.opseq.hasOwnProperty(e+"eq")?function(e,t){return e+" "+r+"= "+t}:function(e,t){return e+" = "+e+" "+r+" "+t}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),i),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[r]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(e=0;e<numeric.mathfuns2.length;++e)r=numeric.mathfuns2[e],delete numeric.ops2[r];for(e=0;e<numeric.mathfuns.length;++e)r=numeric.mathfuns[e],numeric.ops1[r]=r;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",r=numeric.ops1[e],-1!==numeric.myIndexOf.call(numeric.mathfuns,e)&&Math.hasOwnProperty(r)&&(i="var "+r+" = Math."+r+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+r+"x\nvar i;\nvar V = numeric."+e+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+r+"(x)\nvar i;\nvar V = numeric."+e+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)r=numeric.mathfuns[e],delete numeric.ops1[r];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(r=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(r[0],r[1]),numeric[e]=Function("x","s","k",r[1]+'if(typeof x !== "object") {    xi = x;\n'+r[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+e+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+r[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,t){return"object"==typeof e?"object"==typeof t?numeric.truncVV(e,t):numeric.truncVS(e,t):"object"==typeof t?numeric.truncSV(e,t):Math.round(e/t)*t},numeric.inv=function(e){var t,n,r,i,o,a,s,u=numeric.dim(e),c=Math.abs,l=u[0],f=u[1],h=numeric.clone(e),p=numeric.identity(l);for(a=0;a<f;++a){var d=-1,m=-1;for(o=a;o!==l;++o)m<(s=c(h[o][a]))&&(d=o,m=s);for(n=h[d],h[d]=h[a],h[a]=n,i=p[d],p[d]=p[a],p[a]=i,e=n[a],s=a;s!==f;++s)n[s]/=e;for(s=f-1;-1!==s;--s)i[s]/=e;for(o=l-1;-1!==o;--o)if(o!==a){for(t=h[o],r=p[o],e=t[a],s=a+1;s!==f;++s)t[s]-=n[s]*e;for(s=f-1;0<s;--s)r[s]-=i[s]*e,r[--s]-=i[s]*e;0===s&&(r[0]-=i[0]*e)}}return p},numeric.det=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: det() only works on square matrices");var n,r,i,o,a,s,u,c,l=t[0],f=1,h=numeric.clone(e);for(r=0;r<l-1;r++){for(n=(i=r)+1;n<l;n++)Math.abs(h[n][r])>Math.abs(h[i][r])&&(i=n);for(i!==r&&(u=h[i],h[i]=h[r],h[r]=u,f*=-1),o=h[r],n=r+1;n<l;n++){for(s=(a=h[n])[r]/o[r],i=r+1;i<l-1;i+=2)c=i+1,a[i]-=o[i]*s,a[c]-=o[c]*s;i!==l&&(a[i]-=o[i]*s)}if(0===o[r])return 0;f*=o[r]}return f*h[r][r]},numeric.transpose=function(e){var t,n,r,i,o,a=e.length,s=e[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(t=a-1;1<=t;t-=2){for(i=e[t],r=e[t-1],n=s-1;1<=n;--n)(o=u[n])[t]=i[n],o[t-1]=r[n],(o=u[--n])[t]=i[n],o[t-1]=r[n];0===n&&((o=u[0])[t]=i[0],o[t-1]=r[0])}if(0===t){for(r=e[0],n=s-1;1<=n;--n)u[n][0]=r[n],u[--n][0]=r[n];0===n&&(u[0][0]=r[0])}return u},numeric.negtranspose=function(e){var t,n,r,i,o,a=e.length,s=e[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(t=a-1;1<=t;t-=2){for(i=e[t],r=e[t-1],n=s-1;1<=n;--n)(o=u[n])[t]=-i[n],o[t-1]=-r[n],(o=u[--n])[t]=-i[n],o[t-1]=-r[n];0===n&&((o=u[0])[t]=-i[0],o[t-1]=-r[0])}if(0===t){for(r=e[0],n=s-1;1<=n;--n)u[n][0]=-r[n],u[--n][0]=-r[n];0===n&&(u[0][0]=-r[0])}return u},numeric._random=function e(t,n){var r,i,o=t[n],a=Array(o);if(n===t.length-1){for(i=Math.random,r=o-1;1<=r;r-=2)a[r]=i(),a[r-1]=i();return 0===r&&(a[0]=i()),a}for(r=o-1;0<=r;r--)a[r]=e(t,n+1);return a},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,t,n){if(void 0===n&&(n=Math.max(Math.round(t-e)+1,1)),n<2)return 1===n?[e]:[];var r,i=Array(n);for(r=--n;0<=r;r--)i[r]=(r*t+(n-r)*e)/n;return i},numeric.getBlock=function(e,s,u){var c=numeric.dim(e);return function e(t,n){var r,i=s[n],o=u[n]-i,a=Array(o);if(n===c.length-1){for(r=o;0<=r;r--)a[r]=t[r+i];return a}for(r=o;0<=r;r--)a[r]=e(t[r+i],n+1);return a}(e,0)},numeric.setBlock=function(e,s,u,t){var c=numeric.dim(e);return function e(t,n,r){var i,o=s[r],a=u[r]-o;if(r===c.length-1)for(i=a;0<=i;i--)t[i+o]=n[i];for(i=a;0<=i;i--)e(t[i+o],n[i],r+1)}(e,t,0),e},numeric.getRange=function(e,t,n){var r,i,o,a,s=t.length,u=n.length,c=Array(s);for(r=s-1;-1!==r;--r)for(c[r]=Array(u),o=c[r],a=e[t[r]],i=u-1;-1!==i;--i)o[i]=a[n[i]];return c},numeric.blockMatrix=function(e){var t=numeric.dim(e);if(t.length<4)return numeric.blockMatrix([e]);var n,r,i,o,a,s=t[0],u=t[1];for(i=r=n=0;i<s;++i)n+=e[i][0].length;for(o=0;o<u;++o)r+=e[0][o][0].length;var c=Array(n);for(i=0;i<n;++i)c[i]=Array(r);var l,f,h,p,d,m=0;for(i=0;i<s;++i){for(l=r,o=u-1;-1!==o;--o)for(l-=(a=e[i][o])[0].length,h=a.length-1;-1!==h;--h)for(d=a[h],f=c[m+h],p=d.length-1;-1!==p;--p)f[l+p]=d[p];m+=e[i][0].length}return c},numeric.tensor=function(e,t){if("number"==typeof e||"number"==typeof t)return numeric.mul(e,t);var n=numeric.dim(e),r=numeric.dim(t);if(1!==n.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,s,u=n[0],c=r[0],l=Array(u);for(o=u-1;0<=o;o--){for(i=Array(c),s=e[o],a=c-1;3<=a;--a)i[a]=s*t[a],i[--a]=s*t[a],i[--a]=s*t[a],i[--a]=s*t[a];for(;0<=a;)i[a]=s*t[a],--a;l[o]=i}return l},numeric.T=function(e,t){this.x=e,this.y=t},numeric.t=function(e,t){return new numeric.T(e,t)},numeric.Tbinop=function(e,t,n,r,i){var o;numeric.indexOf;if("string"!=typeof i)for(o in i="",numeric)numeric.hasOwnProperty(o)&&(0<=e.indexOf(o)||0<=t.indexOf(o)||0<=n.indexOf(o)||0<=r.indexOf(o))&&1<o.length&&(i+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+t+");\n}\nreturn new numeric.T("+e+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,t=numeric.div;if(this.y){var n=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(t(this.x,n),t(numeric.neg(this.y),n))}return new T(t(1,this.x))},numeric.T.prototype.div=function(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var t=numeric.div;return this.y?new numeric.T(t(this.x,e.x),t(this.y,e.x)):new numeric.T(t(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(e(t),e(n)):new numeric.T(e(t))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(e(t),numeric.negtranspose(n)):new numeric.T(e(t))},numeric.Tunop=function(e,t,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+t+";\n}\n"+e+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var e=this;if(void 0===e.y)return new numeric.T(numeric.inv(e.x));var t,n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,v,y,x=e.x.length,b=numeric.identity(x),w=numeric.rep([x,x],0),T=numeric.clone(e.x),E=numeric.clone(e.y);for(c=0;c<x;c++){for(h=(d=T[c][c])*d+(m=E[c][c])*m,l=(f=c)+1;l<x;l++)h<(p=(d=T[l][c])*d+(m=E[l][c])*m)&&(f=l,h=p);for(f!==c&&(y=T[c],T[c]=T[f],T[f]=y,y=E[c],E[c]=E[f],E[f]=y,y=b[c],b[c]=b[f],b[f]=y,y=w[c],w[c]=w[f],w[f]=y),t=T[c],n=E[c],o=b[c],a=w[c],d=t[c],m=n[c],l=c+1;l<x;l++)g=t[l],v=n[l],t[l]=(g*d+v*m)/h,n[l]=(v*d-g*m)/h;for(l=0;l<x;l++)g=o[l],v=a[l],o[l]=(g*d+v*m)/h,a[l]=(v*d-g*m)/h;for(l=c+1;l<x;l++){for(r=T[l],i=E[l],s=b[l],u=w[l],d=r[c],m=i[c],f=c+1;f<x;f++)g=t[f],v=n[f],r[f]-=g*d-v*m,i[f]-=v*d+g*m;for(f=0;f<x;f++)g=o[f],v=a[f],s[f]-=g*d-v*m,u[f]-=v*d+g*m}}for(c=x-1;0<c;c--)for(o=b[c],a=w[c],l=c-1;0<=l;l--)for(s=b[l],u=w[l],d=T[l][c],m=E[l][c],f=x-1;0<=f;f--)g=o[f],v=a[f],s[f]-=d*g-m*v,u[f]-=d*v+m*g;return new numeric.T(b,w)},numeric.T.prototype.get=function(e){var t,n=this.x,r=this.y,i=0,o=e.length;if(r){for(;i<o;)n=n[t=e[i]],r=r[t],i++;return new numeric.T(n,r)}for(;i<o;)n=n[t=e[i]],i++;return new numeric.T(n)},numeric.T.prototype.set=function(e,t){var n,r=this.x,i=this.y,o=0,a=e.length,s=t.x,u=t.y;if(0===a)return u?this.y=u:i&&(this.y=void 0),this.x=r,this;if(u){for(i||(i=numeric.rep(numeric.dim(r),0),this.y=i);o<a-1;)r=r[n=e[o]],i=i[n],o++;return r[n=e[o]]=s,i[n]=u,this}if(i){for(;o<a-1;)r=r[n=e[o]],i=i[n],o++;return(r[n=e[o]]=s)instanceof Array?i[n]=numeric.rep(numeric.dim(s),0):i[n]=0,this}for(;o<a-1;)r=r[n=e[o]],o++;return r[n=e[o]]=s,this},numeric.T.prototype.getRows=function(e,t){var n,r,i=t-e+1,o=Array(i),a=this.x,s=this.y;for(n=e;n<=t;n++)o[n-e]=a[n];if(s){for(r=Array(i),n=e;n<=t;n++)r[n-e]=s[n];return new numeric.T(o,r)}return new numeric.T(o)},numeric.T.prototype.setRows=function(e,t,n){var r,i=this.x,o=this.y,a=n.x,s=n.y;for(r=e;r<=t;r++)i[r]=a[r-e];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),r=e;r<=t;r++)o[r]=s[r-e];else if(o)for(r=e;r<=t;r++)o[r]=numeric.rep([a[r-e].length],0);return this},numeric.T.prototype.getRow=function(e){var t=this.x,n=this.y;return n?new numeric.T(t[e],n[e]):new numeric.T(t[e])},numeric.T.prototype.setRow=function(e,t){var n=this.x,r=this.y,i=t.x,o=t.y;return n[e]=i,o?(r||(r=numeric.rep(numeric.dim(n),0),this.y=r),r[e]=o):r&&(r=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(e,t){var n=this.x,r=this.y,i=numeric.getBlock;return r?new numeric.T(i(n,e,t),i(r,e,t)):new numeric.T(i(n,e,t))},numeric.T.prototype.setBlock=function(e,t,n){n instanceof numeric.T||(n=new numeric.T(n));var r=this.x,i=this.y,o=numeric.setBlock,a=n.x,s=n.y;if(s)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(r,e,t,a),o(i,e,t,s),this;o(r,e,t,a),i&&o(i,e,t,numeric.rep(numeric.dim(a),0))},numeric.T.rep=function(e,t){var n=numeric.T;t instanceof n||(t=new n(t));var r=t.x,i=t.y,o=numeric.rep;return i?new n(o(e,r),o(e,i)):new n(o(e,r))},numeric.T.diag=function(e){e instanceof numeric.T||(e=new numeric.T(e));var t=e.x,n=e.y,r=numeric.diag;return n?new numeric.T(r(t),r(n)):new numeric.T(r(t))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,t=this.x,n=this.y;return n?new e.T(e.getDiag(t),e.getDiag(n)):new e.T(e.getDiag(t))},numeric.house=function(e){var t=numeric.clone(e),n=(0<=e[0]?1:-1)*numeric.norm2(e);t[0]+=n;var r=numeric.norm2(t);if(0===r)throw new Error("eig: internal error");return numeric.div(t,r)},numeric.toUpperHessenberg=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,r,i,o,a,s,u,c,l,f,h=t[0],p=numeric.clone(e),d=numeric.identity(h);for(r=0;r<h-2;r++){for(o=Array(h-r-1),n=r+1;n<h;n++)o[n-r-1]=p[n][r];if(0<numeric.norm2(o)){for(a=numeric.house(o),s=numeric.getBlock(p,[r+1,r],[h-1,h-1]),u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;n<h;n++)for(c=p[n],l=u[n-r-1],i=r;i<h;i++)c[i]-=2*l[i-r];for(s=numeric.getBlock(p,[0,r+1],[h-1,h-1]),u=numeric.tensor(numeric.dot(s,a),a),n=0;n<h;n++)for(c=p[n],l=u[n],i=r+1;i<h;i++)c[i]-=2*l[i-r-1];for(s=Array(h-r-1),n=r+1;n<h;n++)s[n-r-1]=d[n];for(u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;n<h;n++)for(f=d[n],l=u[n-r-1],i=0;i<h;i++)f[i]-=2*l[i]}}return{H:p,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,t){void 0===t&&(t=1e4),e=numeric.clone(e);numeric.clone(e);var n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,v,y,x,b=numeric.dim(e)[0],w=numeric.identity(b);if(b<3)return{Q:w,B:[[0,b-1]]};var T=numeric.epsilon;for(x=0;x<t;x++){for(v=0;v<b-1;v++)if(Math.abs(e[v+1][v])<T*(Math.abs(e[v][v])+Math.abs(e[v+1][v+1]))){var E=numeric.QRFrancis(numeric.getBlock(e,[0,0],[v,v]),t),_=numeric.QRFrancis(numeric.getBlock(e,[v+1,v+1],[b-1,b-1]),t);for(p=Array(v+1),g=0;g<=v;g++)p[g]=w[g];for(d=numeric.dot(E.Q,p),g=0;g<=v;g++)w[g]=d[g];for(p=Array(b-v-1),g=v+1;g<b;g++)p[g-v-1]=w[g];for(d=numeric.dot(_.Q,p),g=v+1;g<b;g++)w[g]=d[g-v-1];return{Q:w,B:E.B.concat(numeric.add(_.B,v+1))}}var S,C,A;if(i=e[b-2][b-2],o=e[b-2][b-1],a=e[b-1][b-2],c=i+(s=e[b-1][b-1]),u=i*s-o*a,l=numeric.getBlock(e,[0,0],[2,2]),4*u<=c*c)S=.5*(c+Math.sqrt(c*c-4*u)),C=.5*(c-Math.sqrt(c*c-4*u)),l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,S+C)),numeric.diag(numeric.rep([3],S*C)));else l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,c)),numeric.diag(numeric.rep([3],u)));for(n=[l[0][0],l[1][0],l[2][0]],r=numeric.house(n),p=[e[0],e[1],e[2]],d=numeric.tensor(r,numeric.dot(r,p)),g=0;g<3;g++)for(h=e[g],m=d[g],y=0;y<b;y++)h[y]-=2*m[y];for(p=numeric.getBlock(e,[0,0],[b-1,2]),d=numeric.tensor(numeric.dot(p,r),r),g=0;g<b;g++)for(h=e[g],m=d[g],y=0;y<3;y++)h[y]-=2*m[y];for(p=[w[0],w[1],w[2]],d=numeric.tensor(r,numeric.dot(r,p)),g=0;g<3;g++)for(f=w[g],m=d[g],y=0;y<b;y++)f[y]-=2*m[y];for(v=0;v<b-2;v++){for(y=v;y<=v+1;y++)if(Math.abs(e[y+1][y])<T*(Math.abs(e[y][y])+Math.abs(e[y+1][y+1]))){E=numeric.QRFrancis(numeric.getBlock(e,[0,0],[y,y]),t),_=numeric.QRFrancis(numeric.getBlock(e,[y+1,y+1],[b-1,b-1]),t);for(p=Array(y+1),g=0;g<=y;g++)p[g]=w[g];for(d=numeric.dot(E.Q,p),g=0;g<=y;g++)w[g]=d[g];for(p=Array(b-y-1),g=y+1;g<b;g++)p[g-y-1]=w[g];for(d=numeric.dot(_.Q,p),g=y+1;g<b;g++)w[g]=d[g-y-1];return{Q:w,B:E.B.concat(numeric.add(_.B,y+1))}}for(A=Math.min(b-1,v+3),n=Array(A-v),g=v+1;g<=A;g++)n[g-v-1]=e[g][v];for(r=numeric.house(n),p=numeric.getBlock(e,[v+1,v],[A,b-1]),d=numeric.tensor(r,numeric.dot(r,p)),g=v+1;g<=A;g++)for(h=e[g],m=d[g-v-1],y=v;y<b;y++)h[y]-=2*m[y-v];for(p=numeric.getBlock(e,[0,v+1],[b-1,A]),d=numeric.tensor(numeric.dot(p,r),r),g=0;g<b;g++)for(h=e[g],m=d[g],y=v+1;y<=A;y++)h[y]-=2*m[y-v-1];for(p=Array(A-v),g=v+1;g<=A;g++)p[g-v-1]=w[g];for(d=numeric.tensor(r,numeric.dot(r,p)),g=v+1;g<=A;g++)for(f=w[g],m=d[g-v-1],y=0;y<b;y++)f[y]-=2*m[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,v,y=numeric.toUpperHessenberg(e),x=numeric.QRFrancis(y.H,t),b=numeric.T,w=e.length,T=x.B,E=numeric.dot(x.Q,numeric.dot(y.H,numeric.transpose(x.Q))),_=new b(numeric.dot(x.Q,y.Q)),S=T.length,C=Math.sqrt;for(r=0;r<S;r++)if((n=T[r][0])!==T[r][1]){if(o=n+1,a=E[n][n],s=E[n][o],u=E[o][n],c=E[o][o],0===s&&0===u)continue;0<=(f=(l=-a-c)*l-4*(a*c-s*u))?((v=u*u+(c-(h=l<0?-.5*(l-C(f)):-.5*(l+C(f))))*(c-h))<(g=(a-h)*(a-h)+s*s)?(d=(a-h)/(g=C(g)),m=s/g):(d=u/(v=C(v)),m=(c-h)/v),i=new b([[m,-d],[d,m]])):(h=-.5*l,p=.5*C(-f),(v=u*u+(c-h)*(c-h))<(g=(a-h)*(a-h)+s*s)?(d=(a-h)/(g=C(g+p*p)),m=s/g,h=0,p/=g):(d=u/(v=C(v+p*p)),m=(c-h)/v,h=p/v,p=0),i=new b([[m,-d],[d,m]],[[h,p],[p,-h]])),_.setRows(n,o,i.dot(_.getRows(n,o)))}var A=_.dot(e).dot(_.transjugate()),k=(w=e.length,numeric.T.identity(w));for(o=0;o<w;o++)if(0<o)for(r=o-1;0<=r;r--){var D=A.get([r,r]),L=A.get([o,o]);numeric.neq(D.x,L.x)||numeric.neq(D.y,L.y)?(h=A.getRow(r).getBlock([r],[o-1]),p=k.getRow(o).getBlock([r],[o-1]),k.set([o,r],A.get([r,o]).neg().sub(h.dot(p)).div(D.sub(L)))):k.setRow(o,k.getRow(r))}for(o=0;o<w;o++)h=k.getRow(o),k.setRow(o,h.div(h.norm2()));return k=k.transpose(),k=_.transjugate().dot(k),{lambda:A.getDiag(),E:k}},numeric.ccsSparse=function(e){var t,n,r,i=e.length,o=[];for(n=i-1;-1!==n;--n)for(r in t=e[n]){for(r=parseInt(r);r>=o.length;)o[o.length]=0;0!==t[r]&&o[r]++}var a=o.length,s=Array(a+1);for(n=s[0]=0;n<a;++n)s[n+1]=s[n]+o[n];var u=Array(s[a]),c=Array(s[a]);for(n=i-1;-1!==n;--n)for(r in t=e[n])0!==t[r]&&(o[r]--,u[s[r]+o[r]]=n,c[s[r]+o[r]]=t[r]);return[s,u,c]},numeric.ccsFull=function(e){var t,n,r,i,o=e[0],a=e[1],s=e[2],u=numeric.ccsDim(e),c=u[0],l=u[1],f=numeric.rep([c,l],0);for(t=0;t<l;t++)for(r=o[t],i=o[t+1],n=r;n<i;++n)f[a[n]][t]=s[n];return f},numeric.ccsTSolve=function(e,t,n,r,i){function o(e){var t;if(0===n[e]){for(n[e]=1,t=p[e];t<p[e+1];++t)o(d[t]);i[y]=e,++y}}var a,s,u,c,l,f,h,p=e[0],d=e[1],m=e[2],g=p.length-1,v=Math.max,y=0;for(void 0===r&&(n=numeric.rep([g],0)),void 0===r&&(r=numeric.linspace(0,n.length-1)),void 0===i&&(i=[]),a=r.length-1;-1!==a;--a)o(r[a]);for(i.length=y,a=i.length-1;-1!==a;--a)n[i[a]]=0;for(a=r.length-1;-1!==a;--a)s=r[a],n[s]=t[s];for(a=i.length-1;-1!==a;--a){for(s=i[a],u=p[s],c=v(p[s+1],u),l=u;l!==c;++l)if(d[l]===s){n[s]/=m[l];break}for(h=n[s],l=u;l!==c;++l)(f=d[l])!==s&&(n[f]-=h*m[l])}return n},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,t,n,r,i,o){var a,s,u,c=0,l=i.length,f=this.k,h=this.k1,p=this.j;if(0===r[e])for(r[e]=1,p[0]=e,f[0]=s=t[e],h[0]=u=t[e+1];;)if(u<=s){if(i[l]=p[c],0===c)return;++l,s=f[--c],u=h[c]}else 0===r[a=o[n[s]]]?(r[a]=1,f[c]=s,s=t[p[++c]=a],h[c]=u=t[a+1]):++s},numeric.ccsLPSolve=function(e,t,n,r,i,o,a){var s,u,c,l,f,h,p,d,m,g=e[0],v=e[1],y=e[2],x=(g.length,t[0]),b=t[1],w=t[2];for(u=x[i],c=x[i+1],r.length=0,s=u;s<c;++s)a.dfs(o[b[s]],g,v,n,r,o);for(s=r.length-1;-1!==s;--s)n[r[s]]=0;for(s=u;s!==c;++s)n[l=o[b[s]]]=w[s];for(s=r.length-1;-1!==s;--s){for(f=g[l=r[s]],h=g[l+1],p=f;p<h;++p)if(o[v[p]]===l){n[l]/=y[p];break}for(m=n[l],p=f;p<h;++p)(d=o[v[p]])!==l&&(n[d]-=m*y[p])}return n},numeric.ccsLUP1=function(e,t){var n,r,i,o,a,s,u,c=e[0].length-1,l=[numeric.rep([c+1],0),[],[]],f=[numeric.rep([c+1],0),[],[]],h=l[0],p=l[1],d=l[2],m=f[0],g=f[1],v=f[2],y=numeric.rep([c],0),x=numeric.rep([c],0),b=numeric.ccsLPSolve,w=(Math.max,Math.abs),T=numeric.linspace(0,c-1),E=numeric.linspace(0,c-1),_=new numeric.ccsDFS(c);for(void 0===t&&(t=1),n=0;n<c;++n){for(b(l,e,y,x,n,E,_),a=o=-1,r=x.length-1;-1!==r;--r)(i=x[r])<=n||o<(s=w(y[i]))&&(a=i,o=s);for(w(y[n])<t*o&&(r=T[n],o=T[a],E[T[n]=o]=n,E[T[a]=r]=a,o=y[n],y[n]=y[a],y[a]=o),o=h[n],a=m[n],u=y[n],p[o]=T[n],d[o]=1,++o,r=x.length-1;-1!==r;--r)s=y[i=x[r]],x[r]=0,y[i]=0,i<=n?(g[a]=i,v[a]=s,++a):(p[o]=T[i],d[o]=s/u,++o);h[n+1]=o,m[n+1]=a}for(r=p.length-1;-1!==r;--r)p[r]=E[p[r]];return{L:l,U:f,P:T,Pinv:E}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,t,n,r,i,o,a){var s,u,c,l=0,f=i.length,h=this.k,p=this.k1,d=this.j;if(0===r[e])for(r[e]=1,d[0]=e,h[0]=u=t[o[e]],p[0]=c=t[o[e]+1];;){if(isNaN(u))throw new Error("Ow!");if(c<=u){if(i[f]=o[d[l]],0===l)return;++f,u=h[--l],c=p[l]}else 0===r[s=n[u]]?(r[s]=1,h[l]=u,u=t[s=o[d[++l]=s]],p[l]=c=t[s+1]):++u}},numeric.ccsLPSolve0=function(e,t,n,r,i,o,a,s){var u,c,l,f,h,p,d,m,g,v=e[0],y=e[1],x=e[2],b=(v.length,t[0]),w=t[1],T=t[2];for(c=b[i],l=b[i+1],r.length=0,u=c;u<l;++u)s.dfs(w[u],v,y,n,r,o,a);for(u=r.length-1;-1!==u;--u)n[a[f=r[u]]]=0;for(u=c;u!==l;++u)n[f=w[u]]=T[u];for(u=r.length-1;-1!==u;--u){for(m=a[f=r[u]],h=v[f],p=v[f+1],d=h;d<p;++d)if(y[d]===m){n[m]/=x[d];break}for(g=n[m],d=h;d<p;++d)n[y[d]]-=g*x[d];n[m]=g}},numeric.ccsLUP0=function(e,t){var n,r,i,o,a,s,u,c=e[0].length-1,l=[numeric.rep([c+1],0),[],[]],f=[numeric.rep([c+1],0),[],[]],h=l[0],p=l[1],d=l[2],m=f[0],g=f[1],v=f[2],y=numeric.rep([c],0),x=numeric.rep([c],0),b=numeric.ccsLPSolve0,w=(Math.max,Math.abs),T=numeric.linspace(0,c-1),E=numeric.linspace(0,c-1),_=new numeric.ccsDFS0(c);for(void 0===t&&(t=1),n=0;n<c;++n){for(b(l,e,y,x,n,E,T,_),a=o=-1,r=x.length-1;-1!==r;--r)(i=x[r])<=n||o<(s=w(y[T[i]]))&&(a=i,o=s);for(w(y[T[n]])<t*o&&(r=T[n],o=T[a],E[T[n]=o]=n,E[T[a]=r]=a),o=h[n],a=m[n],u=y[T[n]],p[o]=T[n],d[o]=1,++o,r=x.length-1;-1!==r;--r)s=y[T[i=x[r]]],x[r]=0,y[T[i]]=0,i<=n?(g[a]=i,v[a]=s,++a):(p[o]=T[i],d[o]=s/u,++o);h[n+1]=o,m[n+1]=a}for(r=p.length-1;-1!==r;--r)p[r]=E[p[r]];return{L:l,U:f,P:T,Pinv:E}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,t,n){var r=numeric.ccsDim(e),i=r[0],o=r[1];void 0===t?t=numeric.linspace(0,i-1):"number"==typeof t&&(t=[t]),void 0===n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var a,s,u,c,l=t.length,f=n.length,h=numeric.rep([o],0),p=[],d=[],m=[h,p,d],g=e[0],v=e[1],y=e[2],x=numeric.rep([i],0),b=0,w=numeric.rep([i],0);for(s=0;s<f;++s){var T=g[c=n[s]],E=g[c+1];for(a=T;a<E;++a)w[u=v[a]]=1,x[u]=y[a];for(a=0;a<l;++a)w[t[a]]&&(p[b]=a,d[b]=x[t[a]],++b);for(a=T;a<E;++a)w[u=v[a]]=0;h[s+1]=b}return m},numeric.ccsDot=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,p=e[0],d=e[1],m=e[2],g=t[0],v=t[1],y=t[2],x=numeric.ccsDim(e),b=numeric.ccsDim(t),w=x[0],T=(x[1],b[1]),E=numeric.rep([w],0),_=numeric.rep([w],0),S=Array(w),C=numeric.rep([T],0),A=[],k=[],D=[C,A,k];for(i=0;i!==T;++i){for(o=g[i],a=g[i+1],l=0,r=o;r<a;++r)for(f=v[r],h=y[r],s=p[f],u=p[f+1],n=s;n<u;++n)0===_[c=d[n]]&&(l+=_[S[l]=c]=1),E[c]=E[c]+m[n]*h;for(a=(o=C[i])+l,C[i+1]=a,r=l-1;-1!==r;--r)h=o+r,n=S[r],A[h]=n,k[h]=E[n],_[n]=0,E[n]=0;C[i+1]=C[i]+l}return D},numeric.ccsLUPSolve=function(e,t){var n=e.L,r=e.U,i=(e.P,t[0]),o=!1;"object"!=typeof i&&(i=(t=[[0,t.length],numeric.linspace(0,t.length-1),t])[0],o=!0);var a,s,u,c,l,f,h=t[1],p=t[2],d=n[0].length-1,m=i.length-1,g=numeric.rep([d],0),v=Array(d),y=numeric.rep([d],0),x=Array(d),b=numeric.rep([m+1],0),w=[],T=[],E=numeric.ccsTSolve,_=0;for(a=0;a<m;++a){for(l=0,u=i[a],c=i[a+1],s=u;s<c;++s)f=e.Pinv[h[s]],y[x[l]=f]=p[s],++l;for(x.length=l,E(n,y,g,x,v),s=x.length-1;-1!==s;--s)y[x[s]]=0;if(E(r,g,y,v,x),o)return y;for(s=v.length-1;-1!==s;--s)g[v[s]]=0;for(s=x.length-1;-1!==s;--s)f=x[s],w[_]=f,T[_]=y[f],y[f]=0,++_;b[a+1]=_}return[b,w,T]},numeric.ccsbinop=function(e,t){return void 0===t&&(t=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+t+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+e+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(e){var t,n=e[0],r=e[1],i=e[2],o=numeric.sup(r)+1,a=n.length,s=numeric.rep([o],0),u=Array(a),c=Array(a),l=numeric.rep([o],0);for(t=0;t<a;++t)l[r[t]]++;for(t=0;t<o;++t)s[t+1]=s[t]+l[t];var f,h,p=s.slice(0);for(t=0;t<a;++t)u[f=p[h=r[t]]]=n[t],c[f]=i[t],p[h]=p[h]+1;return[s,u,c]},numeric.ccsGather=function(e){var t,n,r,i,o,a=e[0],s=e[1],u=e[2],c=a.length-1,l=s.length,f=Array(l),h=Array(l),p=Array(l);for(t=o=0;t<c;++t)for(r=a[t],i=a[t+1],n=r;n!==i;++n)h[o]=t,f[o]=s[n],p[o]=u[n],++o;return[f,h,p]},numeric.sdim=function e(t,n,r){if(void 0===n&&(n=[]),"object"!=typeof t)return n;var i;for(i in void 0===r&&(r=0),r in n||(n[r]=0),t.length>n[r]&&(n[r]=t.length),t)t.hasOwnProperty(i)&&e(t[i],n,r+1);return n},numeric.sclone=function e(t,n,r){void 0===n&&(n=0),void 0===r&&(r=numeric.sdim(t).length);var i,o=Array(t.length);if(n===r-1){for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o}for(i in t)t.hasOwnProperty(i)&&(o[i]=e(t[i],n+1,r));return o},numeric.sdiag=function(e){var t,n,r=e.length,i=Array(r);for(t=r-1;1<=t;t-=2)n=t-1,i[t]=[],i[t][t]=e[t],i[n]=[],i[n][n]=e[n];return 0===t&&(i[0]=[],i[0][0]=e[t]),i},numeric.sidentity=function(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function(e){var t,n,r,i=[];e.length;for(t in e)if(e.hasOwnProperty(t))for(n in r=e[t])r.hasOwnProperty(n)&&("object"!=typeof i[n]&&(i[n]=[]),i[n][t]=r[n]);return i},numeric.sLUP=function(e,t){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(e,t){var n,r,i,o,a,s,u,c=e.length,l=(t.length,numeric.stranspose(t)),f=l.length,h=Array(c);for(i=c-1;0<=i;i--){for(u=[],n=e[i],a=f-1;0<=a;a--){for(o in s=0,r=l[a],n)n.hasOwnProperty(o)&&o in r&&(s+=n[o]*r[o]);s&&(u[a]=s)}h[i]=u}return h},numeric.sdotMV=function(e,t){var n,r,i,o,a=e.length,s=Array(a);for(r=a-1;0<=r;r--){for(i in o=0,n=e[r])n.hasOwnProperty(i)&&t[i]&&(o+=n[i]*t[i]);o&&(s[r]=o)}return s},numeric.sdotVM=function(e,t){var n,r,i,o,a=[];for(n in e)if(e.hasOwnProperty(n))for(r in i=t[n],o=e[n],i)i.hasOwnProperty(r)&&(a[r]||(a[r]=0),a[r]+=o*i[r]);return a},numeric.sdotVV=function(e,t){var n,r=0;for(n in e)e[n]&&t[n]&&(r+=e[n]*t[n]);return r},numeric.sdot=function(e,t){var n=numeric.sdim(e).length,r=numeric.sdim(t).length;switch(1e3*n+r){case 0:return e*t;case 1001:return numeric.sdotVV(e,t);case 2001:return numeric.sdotMV(e,t);case 1002:return numeric.sdotVM(e,t);case 2002:return numeric.sdotMM(e,t);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+r)}},numeric.sscatter=function(e){var t,n,r,i,o=e[0].length,a=e.length,s=[];for(n=o-1;0<=n;--n)if(e[a-1][n]){for(i=s,r=0;r<a-2;r++)i[t=e[r][n]]||(i[t]=[]),i=i[t];i[e[r][n]]=e[r+1][n]}return s},numeric.sgather=function e(t,n,r){var i,o,a;for(o in void 0===n&&(n=[]),void 0===r&&(r=[]),i=r.length,t)if(t.hasOwnProperty(o))if(r[i]=parseInt(o),"number"==typeof(a=t[o])){if(a){if(0===n.length)for(o=i+1;0<=o;--o)n[o]=[];for(o=i;0<=o;--o)n[o].push(r[o]);n[i+1].push(a)}}else e(a,n,r);return r.length>i&&r.pop(),n},numeric.cLU=function(e){var t,n,r,i,o,a,s=e[0],u=e[1],c=e[2],l=s.length,f=0;for(t=0;t<l;t++)s[t]>f&&(f=s[t]);f++;var h,p=Array(f),d=Array(f),m=numeric.rep([f],1/0),g=numeric.rep([f],-1/0);for(r=0;r<l;r++)t=s[r],(n=u[r])<m[t]&&(m[t]=n),n>g[t]&&(g[t]=n);for(t=0;t<f-1;t++)g[t]>g[t+1]&&(g[t+1]=g[t]);for(t=f-1;1<=t;t--)m[t]<m[t-1]&&(m[t-1]=m[t]);for(t=0;t<f;t++)d[t]=numeric.rep([g[t]-m[t]+1],0),p[t]=numeric.rep([t-m[t]],0),t-m[t]+1,g[t]-t+1;for(r=0;r<l;r++)d[t=s[r]][u[r]-m[t]]=c[r];for(t=0;t<f-1;t++)for(i=t-m[t],x=d[t],n=t+1;m[n]<=t&&n<f;n++)if(o=t-m[n],a=g[t]-t,h=(b=d[n])[o]/x[i]){for(r=1;r<=a;r++)b[r+o]-=h*x[r+i];p[n][t-m[n]]=h}var v,y,x=[],b=[],w=[],T=[],E=[],_=[];for(t=v=l=0;t<f;t++){for(i=m[t],o=g[t],y=d[t],n=t;n<=o;n++)y[n-i]&&(x[l]=t,b[l]=n,w[l]=y[n-i],l++);for(y=p[t],n=i;n<t;n++)y[n-i]&&(T[v]=t,E[v]=n,_[v]=y[n-i],v++);T[v]=t,E[v]=t,_[v]=1,v++}return{U:[x,b,w],L:[T,E,_]}},numeric.cLUsolve=function(e,t){var n,r,i=e.L,o=e.U,a=numeric.clone(t),s=i[0],u=i[1],c=i[2],l=o[0],f=o[1],h=o[2],p=l.length,d=(s.length,a.length);for(n=r=0;n<d;n++){for(;u[r]<n;)a[n]-=c[r]*a[u[r]],r++;r++}for(r=p-1,n=d-1;0<=n;n--){for(;f[r]>n;)a[n]-=h[r]*a[f[r]],r--;a[n]/=h[r],r--}return a},numeric.cgrid=function(n,e){"number"==typeof n&&(n=[n,n]);var t,r,i,o=numeric.rep(n,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,t){return e>=n[0]/2||t<n[1]/2};break;default:e=function(e,t){return!0}}for(i=0,t=1;t<n[0]-1;t++)for(r=1;r<n[1]-1;r++)e(t,r)&&(o[t][r]=i,i++);return o},numeric.cdelsq=function(e){var t,n,r,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(e),u=s[0],c=s[1],l=[],f=[],h=[];for(t=1;t<u-1;t++)for(n=1;n<c-1;n++)if(!(e[t][n]<0)){for(r=0;r<4;r++)i=t+a[r][0],o=n+a[r][1],e[i][o]<0||(l.push(e[t][n]),f.push(e[i][o]),h.push(-1));l.push(e[t][n]),f.push(e[t][n]),h.push(4)}return[l,f,h]},numeric.cdotMV=function(e,t){var n,r,i,o=e[0],a=e[1],s=e[2],u=o.length;for(r=i=0;r<u;r++)o[r]>i&&(i=o[r]);for(i++,n=numeric.rep([i],0),r=0;r<u;r++)n[o[r]]+=s[r]*t[a[r]];return n},numeric.Spline=function(e,t,n,r,i){this.x=e,this.yl=t,this.yr=n,this.kl=r,this.kr=i},numeric.Spline.prototype._at=function(e,t){var n,r,i,o=this.x,a=this.yl,s=this.yr,u=this.kl,c=this.kr,l=numeric.add,f=numeric.sub,h=numeric.mul;n=f(h(u[t],o[t+1]-o[t]),f(s[t+1],a[t])),r=l(h(c[t+1],o[t]-o[t+1]),f(s[t+1],a[t]));var p=(i=(e-o[t])/(o[t+1]-o[t]))*(1-i);return l(l(l(h(1-i,a[t]),h(i,s[t+1])),h(n,p*(1-i))),h(r,p*i))},numeric.Spline.prototype.at=function(e){if("number"==typeof e){var t,n,r,i=this.x,o=i.length,a=Math.floor;for(t=0,n=o-1;1<n-t;)i[r=a((t+n)/2)]<=e?t=r:n=r;return this._at(e,t)}o=e.length;var s,u=Array(o);for(s=o-1;-1!==s;--s)u[s]=this.at(e[s]);return u},numeric.Spline.prototype.diff=function(){var e,t,n,r=this.x,i=this.yl,o=this.yr,a=this.kl,s=this.kr,u=i.length,c=a,l=s,f=Array(u),h=Array(u),p=numeric.add,d=numeric.mul,m=numeric.div,g=numeric.sub;for(e=u-1;-1!==e;--e)t=r[e+1]-r[e],n=g(o[e+1],i[e]),f[e]=m(p(d(n,6),d(a[e],-4*t),d(s[e+1],-2*t)),t*t),h[e+1]=m(p(d(n,-6),d(a[e],2*t),d(s[e+1],4*t)),t*t);return new numeric.Spline(r,c,l,f,h)},numeric.Spline.prototype.roots=function(){var e=[],t=this.x,n=this.yl,r=this.yr,i=this.kl,o=this.kr;"number"==typeof n[0]&&(n=[n],r=[r],i=[i],o=[o]);var a,s,u,c,l,f,h,p,d,m,g,v,y,x,b,w,T,E,_,S,C,A,k,D,L=n.length,R=t.length-1,j=(e=Array(L),Math.sqrt);for(a=0;a!==L;++a){for(c=n[a],l=r[a],f=i[a],h=o[a],p=[],s=0;s!==R;s++){for(0<s&&l[s]*c[s]<0&&p.push(t[s]),w=t[s+1]-t[s],t[s],g=c[s],v=l[s+1],d=f[s]/w,y=(m=h[s+1]/w)+3*g+2*d-3*v,x=3*(m+d+2*(g-v)),(b=(D=d-m+3*(g-v))*D+12*m*g)<=0?T=(E=y/x)>t[s]&&E<t[s+1]?[t[s],E,t[s+1]]:[t[s],t[s+1]]:(E=(y-j(b))/x,_=(y+j(b))/x,T=[t[s]],E>t[s]&&E<t[s+1]&&T.push(E),_>t[s]&&_<t[s+1]&&T.push(_),T.push(t[s+1])),C=T[0],E=this._at(C,s),u=0;u<T.length-1;u++)if(A=T[u+1],_=this._at(A,s),0!==E)if(0===_||0<E*_)C=A,E=_;else{for(var M=0;!((k=(E*A-_*C)/(E-_))<=C||A<=k);)if(0<(S=this._at(k,s))*_)A=k,_=S,-1===M&&(E*=.5),M=-1;else{if(!(0<S*E))break;C=k,E=S,1===M&&(_*=.5),M=1}p.push(k),C=T[u+1],E=this._at(C,s)}else p.push(C),C=A,E=_;0===_&&p.push(A)}e[a]=p}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(e,t,n,r){var i,o=e.length,a=[],s=[],u=[],c=numeric.sub,l=numeric.mul,f=numeric.add;for(i=o-2;0<=i;i--)s[i]=e[i+1]-e[i],u[i]=c(t[i+1],t[i]);"string"!=typeof n&&"string"!=typeof r||(n=r="periodic");var h=[[],[],[]];switch(typeof n){case"undefined":a[0]=l(3/(s[0]*s[0]),u[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/s[0],1/s[0]);break;case"string":a[0]=f(l(3/(s[o-2]*s[o-2]),u[o-2]),l(3/(s[0]*s[0]),u[0])),h[0].push(0,0,0),h[1].push(o-2,0,1),h[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:a[0]=n,h[0].push(0),h[1].push(0),h[2].push(1)}for(i=1;i<o-1;i++)a[i]=f(l(3/(s[i-1]*s[i-1]),u[i-1]),l(3/(s[i]*s[i]),u[i])),h[0].push(i,i,i),h[1].push(i-1,i,i+1),h[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof r){case"undefined":a[o-1]=l(3/(s[o-2]*s[o-2]),u[o-2]),h[0].push(o-1,o-1),h[1].push(o-2,o-1),h[2].push(1/s[o-2],2/s[o-2]);break;case"string":h[1][h[1].length-1]=0;break;default:a[o-1]=r,h[0].push(o-1),h[1].push(o-1),h[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var p=Array(a.length);if("string"==typeof n)for(i=p.length-1;-1!==i;--i)p[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),a[i]),p[i][o-1]=p[i][0];else for(i=p.length-1;-1!==i;--i)p[i]=numeric.cLUsolve(numeric.cLU(h),a[i]);return p="number"==typeof t[0]?p[0]:numeric.transpose(p),new numeric.Spline(e,t,t,p,p)},numeric.fftpow2=function e(t,n){var r=t.length;if(1!==r){var i,o,a=Math.cos,s=Math.sin,u=Array(r/2),c=Array(r/2),l=Array(r/2),f=Array(r/2);for(o=r/2,i=r-1;-1!==i;--i)l[--o]=t[i],f[o]=n[i],--i,u[o]=t[i],c[o]=n[i];e(u,c),e(l,f),o=r/2;var h,p,d,m=-6.283185307179586/r;for(i=r-1;-1!==i;--i)-1===--o&&(o=r/2-1),p=a(h=m*i),d=s(h),t[i]=u[o]+p*l[o]-d*f[o],n[i]=c[o]+p*f[o]+d*l[o]}},numeric._ifftpow2=function e(t,n){var r=t.length;if(1!==r){var i,o,a=Math.cos,s=Math.sin,u=Array(r/2),c=Array(r/2),l=Array(r/2),f=Array(r/2);for(o=r/2,i=r-1;-1!==i;--i)l[--o]=t[i],f[o]=n[i],--i,u[o]=t[i],c[o]=n[i];e(u,c),e(l,f),o=r/2;var h,p,d,m=6.283185307179586/r;for(i=r-1;-1!==i;--i)-1===--o&&(o=r/2-1),p=a(h=m*i),d=s(h),t[i]=u[o]+p*l[o]-d*f[o],n[i]=c[o]+p*f[o]+d*l[o]}},numeric.ifftpow2=function(e,t){numeric._ifftpow2(e,t),numeric.diveq(e,e.length),numeric.diveq(t,t.length)},numeric.convpow2=function(e,t,n,r){var i,o,a,s,u;for(numeric.fftpow2(e,t),numeric.fftpow2(n,r),i=e.length-1;-1!==i;--i)o=e[i],s=t[i],a=n[i],u=r[i],e[i]=o*a-s*u,t[i]=o*u+s*a;numeric.ifftpow2(e,t)},numeric.T.prototype.fft=function(){var e,t,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),f=Math.cos,h=Math.sin,p=-3.141592653589793/i,d=numeric.rep([u],0),m=numeric.rep([u],0);Math.floor(i/2);for(e=0;e<i;e++)d[e]=n[e];if(void 0!==r)for(e=0;e<i;e++)m[e]=r[e];for(e=c[0]=1;e<=u/2;e++)t=p*e*e,c[e]=f(t),l[e]=h(t),c[u-e]=f(t),l[u-e]=h(t);var g=new numeric.T(d,m),v=new numeric.T(c,l);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=i,g.y.length=i,g},numeric.T.prototype.ifft=function(){var e,t,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),f=Math.cos,h=Math.sin,p=3.141592653589793/i,d=numeric.rep([u],0),m=numeric.rep([u],0);Math.floor(i/2);for(e=0;e<i;e++)d[e]=n[e];if(void 0!==r)for(e=0;e<i;e++)m[e]=r[e];for(e=c[0]=1;e<=u/2;e++)t=p*e*e,c[e]=f(t),l[e]=h(t),c[u-e]=f(t),l[u-e]=h(t);var g=new numeric.T(d,m),v=new numeric.T(c,l);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=i,g.y.length=i,g.div(i)},numeric.gradient=function(e,t){var n=t.length,r=e(t);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");var i,o,a,s,u,c,l,f,h,p=Math.max,d=numeric.clone(t),m=Array(n),g=(numeric.div,numeric.sub,p=Math.max,Math.abs),v=Math.min,y=0;for(i=0;i<n;i++)for(var x=p(1e-6*r,1e-8);;){if(20<++y)throw new Error("Numerical gradient fails");if(d[i]=t[i]+x,o=e(d),d[i]=t[i]-x,a=e(d),d[i]=t[i],isNaN(o)||isNaN(a))x/=16;else{if(m[i]=(o-a)/(2*x),s=t[i]-x,u=t[i],c=t[i]+x,l=(o-r)/x,f=(r-a)/x,h=p(g(m[i]),g(r),g(o),g(a),g(s),g(u),g(c),1e-8),!(.001<v(p(g(l-m[i]),g(f-m[i]),g(l-f))/h,x/h)))break;x/=16}}return m},numeric.uncmin=function(t,e,n,r,i,o,a){var s=numeric.gradient;void 0===a&&(a={}),void 0===n&&(n=1e-8),void 0===r&&(r=function(e){return s(t,e)}),void 0===i&&(i=1e3);var u,c,l=(e=numeric.clone(e)).length,f=t(e);if(isNaN(f))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,p=numeric.norm2;n=h(n,numeric.epsilon);var d,m,g,v,y,x,b,w,T,E,_=a.Hinv||numeric.identity(l),S=numeric.dot,C=(numeric.inv,numeric.sub),A=numeric.add,k=numeric.tensor,D=numeric.div,L=numeric.mul,R=numeric.all,j=numeric.isFinite,M=numeric.neg,N=0,I="";for(m=r(e);N<i;){if("function"==typeof o&&o(N,e,f,m,_)){I="Callback returned true";break}if(!R(j(m))){I="Gradient has Infinity or NaN";break}if(!R(j(d=M(S(_,m))))){I="Search direction has Infinity or NaN";break}if((E=p(d))<n){I="Newton step smaller than tol";break}for(T=1,c=S(m,d),y=e;N<i&&!(T*E<n)&&(y=A(e,v=L(d,T)),.1*T*c<=(u=t(y))-f||isNaN(u));)T*=.5,++N;if(T*E<n){I="Line search step size smaller than tol";break}if(N===i){I="maxit reached during line search";break}_=C(A(_,L(((w=S(x=C(g=r(y),m),v))+S(x,b=S(_,x)))/(w*w),k(v,v))),D(A(k(b,v),k(v,b)),w)),e=y,f=u,m=g,++N}return{solution:e,f:f,gradient:m,invHessian:_,iterations:N,message:I}},numeric.Dopri=function(e,t,n,r,i,o,a){this.x=e,this.y=t,this.f=n,this.ymid=r,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(e,t){function n(e){return e*e}var r,i,o,a,s,u,c,l,f,h=this.x,p=this.y,d=this.f,m=this.ymid,g=(h.length,Math.floor,numeric.add),v=numeric.mul,y=numeric.sub;return r=h[t],i=h[t+1],a=p[t],s=p[t+1],o=r+.5*(i-r),u=m[t],c=y(d[t],v(a,1/(r-o)+2/(r-i))),l=y(d[t+1],v(s,1/(i-o)+2/(i-r))),g(g(g(g(v(a,(f=[n(e-i)*(e-o)/n(r-i)/(r-o),n(e-r)*n(e-i)/n(r-o)/n(i-o),n(e-r)*(e-o)/n(i-r)/(i-o),(e-r)*n(e-i)*(e-o)/n(r-i)/(r-o),(e-i)*n(e-r)*(e-o)/n(r-i)/(i-o)])[0]),v(u,f[1])),v(s,f[2])),v(c,f[3])),v(l,f[4]))},numeric.Dopri.prototype.at=function(e){var t,n,r,i=Math.floor;if("number"!=typeof e){var o=e.length,a=Array(o);for(t=o-1;-1!==t;--t)a[t]=this.at(e[t]);return a}var s=this.x;for(t=0,n=s.length-1;1<n-t;)s[r=i(.5*(t+n))]<=e?t=r:n=r;return this._at(e,t)},numeric.dopri=function(e,t,n,r,i,o,a){void 0===i&&(i=1e-6),void 0===o&&(o=1e3);var s,u,c,l,f,h,p,d,m,g,v,y,x,b=[e],w=[n],T=[r(e,n)],E=[],_=[.075,.225],S=[44/45,-56/15,32/9],C=[19372/6561,-25360/2187,64448/6561,-212/729],A=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],k=[35/384,0,500/1113,125/192,-2187/6784,11/84],D=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],L=[.2,.3,.8,8/9,1,1],R=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],j=0,M=(t-e)/10,N=0,I=numeric.add,F=numeric.mul,O=(Math.max,Math.min),P=Math.abs,B=numeric.norminf,z=Math.pow,q=numeric.any,W=numeric.lt,U=numeric.and,H=(numeric.sub,new numeric.Dopri(b,w,T,E,-1,""));for("function"==typeof a&&(v=a(e,n));e<t&&N<o;)if(++N,t<e+M&&(M=t-e),s=r(e+L[0]*M,I(n,F(.2*M,T[j]))),u=r(e+L[1]*M,I(I(n,F(_[0]*M,T[j])),F(_[1]*M,s))),c=r(e+L[2]*M,I(I(I(n,F(S[0]*M,T[j])),F(S[1]*M,s)),F(S[2]*M,u))),l=r(e+L[3]*M,I(I(I(I(n,F(C[0]*M,T[j])),F(C[1]*M,s)),F(C[2]*M,u)),F(C[3]*M,c))),f=r(e+L[4]*M,I(I(I(I(I(n,F(A[0]*M,T[j])),F(A[1]*M,s)),F(A[2]*M,u)),F(A[3]*M,c)),F(A[4]*M,l))),h=r(e+M,m=I(I(I(I(I(n,F(T[j],M*k[0])),F(u,M*k[2])),F(c,M*k[3])),F(l,M*k[4])),F(f,M*k[5]))),i<(g="number"==typeof(p=I(I(I(I(I(F(T[j],M*R[0]),F(u,M*R[2])),F(c,M*R[3])),F(l,M*R[4])),F(f,M*R[5])),F(h,M*R[6])))?P(p):B(p))){if(e+(M=.2*M*z(i/g,.25))===e){H.msg="Step size became too small";break}}else{if(E[j]=I(I(I(I(I(I(n,F(T[j],M*D[0])),F(u,M*D[2])),F(c,M*D[3])),F(l,M*D[4])),F(f,M*D[5])),F(h,M*D[6])),b[++j]=e+M,w[j]=m,T[j]=h,"function"==typeof a){var $,X,V=e,G=e+.5*M;if(y=a(G,E[j-1]),q(x=U(W(v,0),W(0,y)))||(V=G,v=y,y=a(G=e+M,m),x=U(W(v,0),W(0,y))),q(x)){for(var Y,Q,Z=0,J=1,K=1;;){if("number"==typeof v)X=(K*y*V-J*v*G)/(K*y-J*v);else for(X=G,d=v.length-1;-1!==d;--d)v[d]<0&&0<y[d]&&(X=O(X,(K*y[d]*V-J*v[d]*G)/(K*y[d]-J*v[d])));if(X<=V||G<=X)break;Q=a(X,$=H._at(X,j-1)),q(Y=U(W(v,0),W(0,Q)))?(G=X,y=Q,x=Y,-(K=1)===Z?J*=.5:J=1,Z=-1):(V=X,v=Q,(J=1)===Z?K*=.5:K=1,Z=1)}return m=H._at(.5*(e+X),j-1),H.f[j]=r(X,$),H.x[j]=X,H.y[j]=$,H.ymid[j-1]=m,H.events=x,H.iterations=N,H}}e+=M,n=m,v=y,M=O(.8*M*z(i/g,.25),4*M)}return H.iterations=N,H},numeric.LU=function(e,t){t=t||!1;var n,r,i,o,a,s,u,c,l,f=Math.abs,h=e.length,p=h-1,d=new Array(h);for(t||(e=numeric.clone(e)),i=0;i<h;++i){for(l=f((s=e[u=i])[i]),r=i+1;r<h;++r)l<(o=f(e[r][i]))&&(l=o,u=r);for((d[i]=u)!=i&&(e[i]=e[u],e[u]=s,s=e[i]),a=s[i],n=i+1;n<h;++n)e[n][i]/=a;for(n=i+1;n<h;++n){for(c=e[n],r=i+1;r<p;++r)c[r]-=c[i]*s[r],c[++r]-=c[i]*s[r];r===p&&(c[r]-=c[i]*s[r])}}return{LU:e,P:d}},numeric.LUsolve=function(e,t){var n,r,i,o,a,s=e.LU,u=s.length,c=numeric.clone(t),l=e.P;for(n=u-1;-1!==n;--n)c[n]=t[n];for(n=0;n<u;++n)for(i=l[n],l[n]!==n&&(a=c[n],c[n]=c[i],c[i]=a),o=s[n],r=0;r<n;++r)c[n]-=c[r]*o[r];for(n=u-1;0<=n;--n){for(o=s[n],r=n+1;r<u;++r)c[n]-=c[r]*o[r];c[n]/=o[n]}return c},numeric.solve=function(e,t,n){return numeric.LUsolve(numeric.LU(e,n),t)},numeric.echelonize=function(e){var t,n,r,i,o,a,s,u,c=numeric.dim(e),l=c[0],f=c[1],h=numeric.identity(l),p=Array(l),d=Math.abs,m=numeric.diveq;for(e=numeric.clone(e),t=0;t<l;++t){for(r=0,o=e[t],a=h[t],n=1;n<f;++n)d(o[r])<d(o[n])&&(r=n);for(m(a,o[p[t]=r]),m(o,o[r]),n=0;n<l;++n)if(n!==t){for(u=(s=e[n])[r],i=f-1;-1!==i;--i)s[i]-=o[i]*u;for(s=h[n],i=l-1;-1!==i;--i)s[i]-=a[i]*u}}return{I:h,A:e,P:p}},numeric.__solveLP=function(e,t,n,r,i,o,a){var s,u,c,l,f=numeric.sum,h=(numeric.log,numeric.mul),p=numeric.sub,d=numeric.dot,m=numeric.div,g=numeric.add,v=e.length,y=n.length,x=!1,b=1,w=(numeric.transpose(t),numeric.svd,numeric.transpose),T=(numeric.leq,Math.sqrt),E=Math.abs,_=(numeric.muleq,numeric.norminf,numeric.any,Math.min),S=numeric.all,C=numeric.gt,A=Array(v),k=Array(y),D=(numeric.rep([y],1),numeric.solve),L=p(n,d(t,o)),R=d(e,e);for(c=0;c<i;++c){var j,M;for(j=y-1;-1!==j;--j)k[j]=m(t[j],L[j]);var N=w(k);for(j=v-1;-1!==j;--j)A[j]=f(N[j]);b=.25*E(R/d(e,A));var I=100*T(R/d(A,A));for((!isFinite(b)||I<b)&&(b=I),l=g(e,h(b,A)),u=d(N,k),j=v-1;-1!==j;--j)u[j][j]+=1;var F=m(L,d(t,M=D(u,m(l,b),!0))),O=1;for(j=y-1;-1!==j;--j)F[j]<0&&(O=_(O,-.999*F[j]));if(!S(C(L=p(n,d(t,s=p(o,h(M,O)))),0)))return{solution:o,message:"",iterations:c};if(o=s,b<r)return{solution:s,message:"",iterations:c};if(a){var P=d(e,l),B=d(t,l);for(x=!0,j=y-1;-1!==j;--j)if(P*B[j]<0){x=!1;break}}else x=!(0<=o[v-1]);if(x)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(e,t,n,r,i){var o=e.length,a=n.length,s=(numeric.sum,numeric.log,numeric.mul,numeric.sub),u=numeric.dot,c=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),l=numeric.rep([a,1],-1),f=numeric.blockMatrix([[t,l]]),h=n,p=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),d=numeric.__solveLP(c,f,h,r,i,p,!1),m=numeric.clone(d.solution);if(m.length=o,numeric.inf(s(n,u(t,m)))<0)return{solution:NaN,message:"Infeasible",iterations:d.iterations};var g=numeric.__solveLP(e,t,n,r,i-d.iterations,m,!0);return g.iterations+=d.iterations,g},numeric.solveLP=function(e,t,n,r,i,o,a){if(void 0===a&&(a=1e3),void 0===o&&(o=numeric.epsilon),void 0===r)return numeric._solveLP(e,t,n,o,a);var s,u=r.length,c=r[0].length,l=t.length,f=numeric.echelonize(r),h=numeric.rep([c],0),p=f.P,d=[];for(s=p.length-1;-1!==s;--s)h[p[s]]=1;for(s=c-1;-1!==s;--s)0===h[s]&&d.push(s);var m=numeric.getRange,g=numeric.linspace(0,u-1),v=numeric.linspace(0,l-1),y=m(r,g,d),x=m(t,v,p),b=m(t,v,d),w=numeric.dot,T=numeric.sub,E=w(x,f.I),_=T(b,w(E,y)),S=T(n,w(E,i)),C=Array(p.length),A=Array(d.length);for(s=p.length-1;-1!==s;--s)C[s]=e[p[s]];for(s=d.length-1;-1!==s;--s)A[s]=e[d[s]];var k=T(A,w(C,w(f.I,y))),D=numeric._solveLP(k,_,S,o,a),L=D.solution;if(L!=L)return D;var R=w(f.I,T(i,w(y,L))),j=Array(e.length);for(s=p.length-1;-1!==s;--s)j[p[s]]=R[s];for(s=d.length-1;-1!==s;--s)j[d[s]]=L[s];return{solution:j,message:D.message,iterations:D.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+t[n]+"\nCurrent state: "+s[a]+"\n")}t instanceof String&&t.split("\n");var n,r,i,o,a=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=t.length,c=0,l={},f=[],h=0,p={},d=0,m=[],g=[],v=[];for(n=0;n<u;++n){var y=(i=t[n]).match(/\S*/g),x=[];for(r=0;r<y.length;++r)""!==y[r]&&x.push(y[r]);if(0!==x.length){for(r=0;r<s.length&&i.substr(0,s[r].length)!==s[r];++r);if(r<s.length){if(1===(a=r)&&(o=x[1]),6===r)return{name:o,c:m,A:numeric.transpose(g),b:v,rows:l,vars:p}}else switch(a){case 0:case 1:e("Unexpected line");case 2:switch(x[0]){case"N":0===c?c=x[1]:e("Two or more N rows");break;case"L":f[l[x[1]]=h]=1,v[h]=0,++h;break;case"G":f[l[x[1]]=h]=-1,v[h]=0,++h;break;case"E":f[l[x[1]]=h]=0,v[h]=0,++h;break;default:e("Parse error "+numeric.prettyPrint(x))}break;case 3:p.hasOwnProperty(x[0])||(m[p[x[0]]=d]=0,g[d]=numeric.rep([h],0),++d);var b=p[x[0]];for(r=1;r<x.length;r+=2)if(x[r]!==c){var w=l[x[r]];g[b][w]=(f[w]<0?-1:1)*parseFloat(x[r+1])}else m[b]=parseFloat(x[r+1]);break;case 4:for(r=1;r<x.length;r+=2)v[l[x[r]]]=(f[l[x[r]]]<0?-1:1)*parseFloat(x[r+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(i,o,u,e,a,s,c){function l(e,t,n,r){for(e+="",r=n=0;r<e.length;r++)t[f(r)]=f((n^=19*t[f(r)])+e.charCodeAt(r));for(r in e="",t)e+=String.fromCharCode(t[r]);return e}function f(e){return e&u-1}o.seedrandom=function(e,t){var r,n=[];return e=l(function e(t,n,r,i,o){if(r=[],o=typeof t,n&&"object"==o)for(i in t)if(i.indexOf("S")<5)try{r.push(e(t[i],n-1))}catch(e){}return r.length?r:t+("string"!=o?"\0":"")}(t?[e,i]:arguments.length?e:[(new Date).getTime(),i,window],3),n),l((r=new function(e){var t,n,s=this,r=e.length,i=0,o=s.i=s.j=s.m=0;for(s.S=[],s.c=[],r||(e=[r++]);i<u;)s.S[i]=i++;for(i=0;i<u;i++)o=f(o+(t=s.S[i])+e[i%r]),n=s.S[o],s.S[i]=n,s.S[o]=t;s.g=function(e){var t=s.S,n=f(s.i+1),r=t[n],i=f(s.j+r),o=t[i];t[n]=o,t[i]=r;for(var a=t[f(r+o)];--e;)o=t[i=f(i+(r=t[n=f(n+1)]))],t[n]=o,t[i]=r,a=a*u+t[f(r+o)];return s.i=n,s.j=i,a},s.g(u)}(n)).S,i),o.random=function(){for(var e=r.g(6),t=c,n=0;e<a;)e=(e+n)*u,t*=u,n=r.g(1);for(;s<=e;)e/=2,t/=2,n>>>=1;return(e+n)/t},e},c=o.pow(u,6),a=o.pow(2,a),s=2*a,l(o.random(),i)}([],numeric.seedrandom,256,0,52),function(e){function g(e){if("object"!=typeof e)return e;var t,n=[],r=e.length;for(t=0;t<r;t++)n[t+1]=g(e[t]);return n}function v(e){if("object"!=typeof e)return e;var t,n=[],r=e.length;for(t=1;t<r;t++)n[t-1]=v(e[t]);return n}function y(e,t,n,r,i,o,a,s,u,c,l,f,h,p,d,m){function g(){for(p[1]=p[1]+1,E=L,w=1;w<=c;w+=1){for(E+=1,F=-s[w],T=1;T<=r;T+=1)F+=a[T][w]*i[T];if(Math.abs(F)<H&&(F=0),l<w)d[E]=F;else if(d[E]=-Math.abs(F),0<F){for(T=1;T<=r;T+=1)a[T][w]=-a[T][w];s[w]=-s[w]}}for(w=1;w<=h;w+=1)d[L+f[w]]=0;for(I=j=0,w=1;w<=c;w+=1)d[L+w]<I*d[N+w]&&(I=d[L+(j=w)]/d[N+w]);return 0===j?999:0}function v(){for(w=1;w<=r;w+=1){for(F=0,T=1;T<=r;T+=1)F+=e[T][w]*a[T][j];d[w]=F}for(_=A,w=1;w<=r;w+=1)d[_+w]=0;for(T=h+1;T<=r;T+=1)for(w=1;w<=r;w+=1)d[_+w]=d[_+w]+e[w][T]*d[T];for(W=!0,w=h;1<=w;w-=1){for(F=d[w],_=(E=D+w*(w+3)/2)-w,T=w+1;T<=h;T+=1)F-=d[E]*d[k+T],E+=T;if(F/=d[_],d[k+w]=F,f[w]<l)break;if(F<0)break;W=!1,C=w}if(!W)for(O=d[R+C]/d[k+C],w=1;w<=h&&!(f[w]<l)&&!(d[k+w]<0);w+=1)(I=d[R+w]/d[k+w])<O&&(O=I,C=w);for(F=0,w=A+1;w<=A+r;w+=1)F+=d[w]*d[w];if(Math.abs(F)<=H){if(W)return m[1]=1,999;for(w=1;w<=h;w+=1)d[R+w]=d[R+w]-O*d[k+w];return d[R+h+1]=d[R+h+1]+O,700}for(F=0,w=1;w<=r;w+=1)F+=d[A+w]*a[w][j];for(P=-d[L+j]/F,U=!0,W||O<P&&(P=O,U=!1),w=1;w<=r;w+=1)i[w]=i[w]+P*d[A+w],Math.abs(i[w])<H&&(i[w]=0);for(o[1]=o[1]+P*F*(P/2+d[R+h+1]),w=1;w<=h;w+=1)d[R+w]=d[R+w]-P*d[k+w];if(d[R+h+1]=d[R+h+1]+P,!U){for(F=-s[j],T=1;T<=r;T+=1)F+=i[T]*a[T][j];if(l<j)d[L+j]=F;else if(d[L+j]=-Math.abs(F),0<F){for(T=1;T<=r;T+=1)a[T][j]=-a[T][j];s[j]=-s[j]}return 700}for(f[h+=1]=j,E=D+(h-1)*h/2+1,w=1;w<=h-1;w+=1)d[E]=d[w],E+=1;if(h===r)d[E]=d[r];else{for(w=r;h+1<=w&&0!==d[w]&&(B=Math.max(Math.abs(d[w-1]),Math.abs(d[w])),z=Math.min(Math.abs(d[w-1]),Math.abs(d[w])),I=0<=d[w-1]?Math.abs(B*Math.sqrt(1+z*z/(B*B))):-Math.abs(B*Math.sqrt(1+z*z/(B*B))),B=d[w-1]/I,z=d[w]/I,1!==B);w-=1)if(0===B)for(d[w-1]=z*I,T=1;T<=r;T+=1)I=e[T][w-1],e[T][w-1]=e[T][w],e[T][w]=I;else for(d[w-1]=I,q=z/(1+B),T=1;T<=r;T+=1)I=B*e[T][w-1]+z*e[T][w],e[T][w]=q*(e[T][w-1]+I)-e[T][w],e[T][w-1]=I;d[E]=d[h]}return 0}function y(){if(0===d[_=(E=D+C*(C+1)/2+1)+C])return 798;if(B=Math.max(Math.abs(d[_-1]),Math.abs(d[_])),z=Math.min(Math.abs(d[_-1]),Math.abs(d[_])),I=0<=d[_-1]?Math.abs(B*Math.sqrt(1+z*z/(B*B))):-Math.abs(B*Math.sqrt(1+z*z/(B*B))),B=d[_-1]/I,z=d[_]/I,1===B)return 798;if(0===B){for(w=C+1;w<=h;w+=1)I=d[_-1],d[_-1]=d[_],d[_]=I,_+=w;for(w=1;w<=r;w+=1)I=e[w][C],e[w][C]=e[w][C+1],e[w][C+1]=I}else{for(q=z/(1+B),w=C+1;w<=h;w+=1)I=B*d[_-1]+z*d[_],d[_]=q*(d[_-1]+I)-d[_],d[_-1]=I,_+=w;for(w=1;w<=r;w+=1)I=B*e[w][C]+z*e[w][C+1],e[w][C+1]=q*(e[w][C]+I)-e[w][C+1],e[w][C]=I}return 0}function x(){for(_=E-C,w=1;w<=C;w+=1)d[_]=d[E],E+=1,_+=1;return d[R+C]=d[R+C+1],f[C]=f[C+1],(C+=1)<h?797:0}function b(){return d[R+h]=d[R+h+1],d[R+h+1]=0,f[h]=0,h-=1,p[2]=p[2]+1,0}var w,T,E,_,S,C,A,k,D,L,R,j,M,N,I,F,O,P,B,z,q,W,U,H,$;for(M=Math.min(r,c),E=2*r+M*(M+5)/2+2*c+1,H=1e-60;1+.1*(H+=H)<=1||1+.2*H<=1;);for(w=1;w<=r;w+=1)d[w]=t[w];for(w=r+1;w<=E;w+=1)d[w]=0;for(w=1;w<=c;w+=1)f[w]=0;if(S=[],0===m[1]){if(function(e,t,n,r){var i,o,a,s,u,c;for(o=1;o<=n;o+=1){if(c=0,(a=(r[1]=o)-1)<1){if((c=e[o][o]-c)<=0)break;e[o][o]=Math.sqrt(c)}else{for(s=1;s<=a;s+=1){for(u=e[s][o],i=1;i<s;i+=1)u-=e[i][o]*e[i][s];u/=e[s][s],c+=(e[s][o]=u)*u}if((c=e[o][o]-c)<=0)break;e[o][o]=Math.sqrt(c)}r[1]=0}}(e,0,r,S),0!==S[1])return void(m[1]=2);(function(e,t,n,r){var i,o,a,s;for(o=1;o<=n;o+=1){for(s=0,i=1;i<o;i+=1)s+=e[i][o]*r[i];r[o]=(r[o]-s)/e[o][o]}for(a=1;a<=n;a+=1)for(r[o=n+1-a]=r[o]/e[o][o],s=-r[o],i=1;i<o;i+=1)r[i]=r[i]+s*e[i][o]})(e,0,r,t),function(e,t,n){var r,i,o,a,s;for(o=1;o<=n;o+=1){for(e[o][o]=1/e[o][o],s=-e[o][o],r=1;r<o;r+=1)e[r][o]=s*e[r][o];if(n<(a=o+1))break;for(i=a;i<=n;i+=1)for(s=e[o][i],e[o][i]=0,r=1;r<=o;r+=1)e[r][i]=e[r][i]+s*e[r][o]}}(e,0,r)}else{for(T=1;T<=r;T+=1)for(i[T]=0,w=1;w<=T;w+=1)i[T]=i[T]+e[w][T]*t[w];for(T=1;T<=r;T+=1)for(t[T]=0,w=T;w<=r;w+=1)t[T]=t[T]+e[T][w]*i[w]}for(o[1]=0,T=1;T<=r;T+=1)for(i[T]=t[T],o[1]=o[1]+d[T]*i[T],d[T]=0,w=T+1;w<=r;w+=1)e[w][T]=0;for(o[1]=-o[1]/2,m[1]=0,N=(L=(D=(R=(k=(A=r)+r)+M)+M+1)+M*(M+1)/2)+c,w=1;w<=c;w+=1){for(F=0,T=1;T<=r;T+=1)F+=a[T][w]*a[T][w];d[N+w]=Math.sqrt(F)}for(h=0,p[1]=0,$=p[2]=0;;){if(999===($=g()))return;for(;0!==($=v());){if(999===$)return;if(700===$)if(C===h)b();else{for(;y(),797===($=x()););b()}}}}numeric.solveQP=function(e,t,n,r,i,o){e=g(e),t=g(t),n=g(n);var a,s,u,c,l,f=[],h=[],p=[],d=[],m=[];if(i=i||0,o=o?g(o):[void 0,0],r=r?g(r):[],s=e.length-1,u=n[1].length-1,!r)for(a=1;a<=u;a+=1)r[a]=0;for(a=1;a<=u;a+=1)h[a]=0;for(c=Math.min(s,u),a=1;a<=s;a+=1)p[a]=0;for(f[1]=0,a=1;a<=2*s+c*(c+5)/2+2*u+1;a+=1)d[a]=0;for(a=1;a<=2;a+=1)m[a]=0;return y(e,t,0,s,p,f,n,r,0,u,i,h,0,m,d,o),l="",1===o[1]&&(l="constraints are inconsistent, no solution!"),2===o[1]&&(l="matrix D in quadratic function is not positive definite!"),{solution:v(p),value:v(f),unconstrained_solution:v(t),iterations:v(m),iact:v(h),message:l}}}(),numeric.svd=function(e){function t(e,t){return e=Math.abs(e),(t=Math.abs(t))<e?e*Math.sqrt(1+t*t/e/e):0==t?e:t*Math.sqrt(1+e*e/t/t)}var n,r=numeric.epsilon,i=1e-64/r,o=0,a=0,s=0,u=0,c=0,l=numeric.clone(e),f=l.length,h=l[0].length;if(f<h)throw"Need more rows than columns";var p=new Array(h),d=new Array(h);for(a=0;a<h;a++)p[a]=d[a]=0;var m=numeric.rep([h,h],0),g=0,v=0,y=0,x=0,b=0,w=0,T=0;for(a=0;a<h;a++){for(p[a]=v,T=0,c=a+1,s=a;s<f;s++)T+=l[s][a]*l[s][a];if(T<=i)v=0;else for(g=l[a][a],v=Math.sqrt(T),0<=g&&(v=-v),y=g*v-T,l[a][a]=g-v,s=c;s<h;s++){for(T=0,u=a;u<f;u++)T+=l[u][a]*l[u][s];for(g=T/y,u=a;u<f;u++)l[u][s]+=g*l[u][a]}for(d[a]=v,T=0,s=c;s<h;s++)T+=l[a][s]*l[a][s];if(T<=i)v=0;else{for(g=l[a][a+1],v=Math.sqrt(T),0<=g&&(v=-v),y=g*v-T,l[a][a+1]=g-v,s=c;s<h;s++)p[s]=l[a][s]/y;for(s=c;s<f;s++){for(T=0,u=c;u<h;u++)T+=l[s][u]*l[a][u];for(u=c;u<h;u++)l[s][u]+=T*p[u]}}x<(b=Math.abs(d[a])+Math.abs(p[a]))&&(x=b)}for(a=h-1;-1!=a;a+=-1){if(0!=v){for(y=v*l[a][a+1],s=c;s<h;s++)m[s][a]=l[a][s]/y;for(s=c;s<h;s++){for(T=0,u=c;u<h;u++)T+=l[a][u]*m[u][s];for(u=c;u<h;u++)m[u][s]+=T*m[u][a]}}for(s=c;s<h;s++)m[a][s]=0,m[s][a]=0;m[a][a]=1,v=p[a],c=a}for(a=h-1;-1!=a;a+=-1){for(c=a+1,v=d[a],s=c;s<h;s++)l[a][s]=0;if(0!=v){for(y=l[a][a]*v,s=c;s<h;s++){for(T=0,u=c;u<f;u++)T+=l[u][a]*l[u][s];for(g=T/y,u=a;u<f;u++)l[u][s]+=g*l[u][a]}for(s=a;s<f;s++)l[s][a]=l[s][a]/v}else for(s=a;s<f;s++)l[s][a]=0;l[a][a]+=1}for(r*=x,u=h-1;-1!=u;u+=-1)for(var E=0;E<50;E++){var _=!1;for(c=u;-1!=c;c+=-1){if(Math.abs(p[c])<=r){_=!0;break}if(Math.abs(d[c-1])<=r)break}if(!_){o=0;var S=c-(T=1);for(a=c;a<u+1&&(g=T*p[a],p[a]=o*p[a],!(Math.abs(g)<=r));a++)for(y=t(g,v=d[a]),o=v/(d[a]=y),T=-g/y,s=0;s<f;s++)b=l[s][S],w=l[s][a],l[s][S]=b*o+w*T,l[s][a]=-b*T+w*o}if(w=d[u],c==u){if(w<0)for(d[u]=-w,s=0;s<h;s++)m[s][u]=-m[s][u];break}if(49<=E)throw"Error: no convergence.";for(x=d[c],v=t(g=(((b=d[u-1])-w)*(b+w)+((v=p[u-1])-(y=p[u]))*(v+y))/(2*y*b),1),g=g<0?((x-w)*(x+w)+y*(b/(g-v)-y))/x:((x-w)*(x+w)+y*(b/(g+v)-y))/x,a=c+(T=o=1);a<u+1;a++){for(v=p[a],b=d[a],y=T*v,v*=o,w=t(g,y),g=x*(o=g/(p[a-1]=w))+v*(T=y/w),v=-x*T+v*o,y=b*T,b*=o,s=0;s<h;s++)x=m[s][a-1],w=m[s][a],m[s][a-1]=x*o+w*T,m[s][a]=-x*T+w*o;for(w=t(g,y),g=(o=g/(d[a-1]=w))*v+(T=y/w)*b,x=-T*v+o*b,s=0;s<f;s++)b=l[s][a-1],w=l[s][a],l[s][a-1]=b*o+w*T,l[s][a]=-b*T+w*o}p[c]=0,p[u]=g,d[u]=x}for(a=0;a<d.length;a++)d[a]<r&&(d[a]=0);for(a=0;a<h;a++)for(s=a-1;0<=s;s--)if(d[s]<d[a]){for(o=d[s],d[s]=d[a],d[a]=o,u=0;u<l.length;u++)n=l[u][a],l[u][a]=l[u][s],l[u][s]=n;for(u=0;u<m.length;u++)n=m[u][a],m[u][a]=m[u][s],m[u][s]=n;a=s}return{U:l,S:d,V:m}},$=jQuery,getTransform=function(e,t){var n,r,i,o,a,s,u,c,l;for(n=[],a=u=0;u<4;a=++u)n.push([e[a].x,e[a].y,1,0,0,0,-e[a].x*t[a].x,-e[a].y*t[a].x]),n.push([0,0,0,e[a].x,e[a].y,1,-e[a].x*t[a].y,-e[a].y*t[a].y]);for(i=[],a=c=0;c<4;a=++c)i.push(t[a].x),i.push(t[a].y);for(r=[[(o=numeric.solve(n,i))[0],o[1],0,o[2]],[o[3],o[4],0,o[5]],[0,0,1,0],[o[6],o[7],0,1]],a=l=0;l<4;a=++l)s=numeric.dot(r,[e[a].x,e[a].y,0,1])[3],numeric.dot(s,[t[a].x,t[a].y,0,1]);return r},applyTransform=function(e,r,i,t){var n,o,a,s,u,c;return o=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)u=r[e],n.push({x:u[0]-r[0][0],y:u[1]-r[0][1]});return n}(),c=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)u=i[e],n.push({x:u[0]-r[0][0],y:u[1]-r[0][1]});return n}(),n=getTransform(o,c),$(e).css({transform:"matrix3d("+function(){var e,t;for(t=[],a=e=0;e<4;a=++e)t.push(function(){var e,t;for(t=[],s=e=0;e<4;s=++e)t.push(n[s][a].toFixed(20));return t}());return t}().join(",")+")","transform-origin":"0 0"}),"function"==typeof t?t(e,n):void 0},makeTransformable=function(e,n){return $(e).each(function(e,i){var r,t,o,a;return $(i).css("transform",""),r=function(){var e,t,n,r;for(r=[],e=0,t=(n=["left top","left bottom","right top","right bottom"]).length;e<t;e++)a=n[e],r.push($("<div>").css({border:"10px solid black",borderRadius:"10px",cursor:"move",position:"absolute",zIndex:1e5}).appendTo("body").position({at:a,of:i,collision:"none"}));return r}(),t=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push([o.offset().left,o.offset().top]);return n}(),$(r).draggable({start:function(){return $(i).css("pointer-events","none")},drag:function(){return applyTransform(i,t,function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push([o.offset().left,o.offset().top]);return n}(),n)},stop:function(){return applyTransform(i,t,function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push([o.offset().left,o.offset().top]);return n}(),n),$(i).css("pointer-events","auto")}}),i})},makeTransformable(".box",function(e,n){var r,i;return $(e).html($("<table>").append($("<tr>").html($("<td>").text("matrix3d("))).append(function(){var e,t;for(t=[],r=e=0;e<4;r=++e)t.push($("<tr>").append(function(){var e,t;for(t=[],i=e=0;e<4;i=++e)t.push($("<td>").text(n[i][r]+(r===i&&3===i?"":",")));return t}()));return t}()).append($("<tr>").html($("<td>").text(")"))))});var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(d){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var m=d.document,g=function(){return d.URL||d.webkitURL||d},v=m.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in v,x=d.webkitRequestFileSystem,b=d.requestFileSystem||x||d.mozRequestFileSystem,o=function(e){(d.setImmediate||d.setTimeout)(function(){throw e},0)},w="application/octet-stream",T=0,E=function(e){var t=function(){"string"==typeof e?g().revokeObjectURL(e):e.remove()};d.chrome?t():setTimeout(t,500)},_=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){o(e)}}},n=function(r,n){var e,i,t,o,a,s=this,u=r.type,c=!1,l=function(){_(s,"writestart progress write writeend".split(" "))},f=function(){(!c&&e||(e=g().createObjectURL(r)),i)?i.location.href=e:null==d.open(e,"_blank")&&"undefined"!=typeof safari&&(d.location.href=e);s.readyState=s.DONE,l(),E(e)},h=function(e){return function(){if(s.readyState!==s.DONE)return e.apply(this,arguments)}},p={create:!0,exclusive:!1};if(s.readyState=s.INIT,n||(n="download"),y)return e=g().createObjectURL(r),v.href=e,v.download=n,o=v,(a=m.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,d,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(a),s.readyState=s.DONE,l(),void E(e);d.chrome&&u&&u!==w&&(t=r.slice||r.webkitSlice,r=t.call(r,0,r.size,w),c=!0),x&&"download"!==n&&(n+=".download"),(u===w||x)&&(i=d),b?(T+=r.size,b(d.TEMPORARY,T,h(function(e){e.root.getDirectory("saved",p,h(function(e){var t=function(){e.getFile(n,p,h(function(n){n.createWriter(h(function(t){t.onwriteend=function(e){i.location.href=n.toURL(),s.readyState=s.DONE,_(s,"writeend",e),E(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&f()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=s["on"+e]}),t.write(r),s.abort=function(){t.abort(),s.readyState=s.DONE},s.readyState=s.WRITING}),f)}),f)};e.getFile(n,{create:!1},h(function(e){e.remove(),t()}),h(function(e){e.code===e.NOT_FOUND_ERR?t():f()}))}),f)}),f)):f()},e=n.prototype;return e.abort=function(){this.readyState=this.DONE,_(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(e,t){return new n(e,t)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(e){var f=Array.prototype.slice;function t(){}function n(c){if(c){var l="undefined"==typeof console?t:function(e){};return c.bridget=function(e,t){var n,s,u;(n=t).prototype.option||(n.prototype.option=function(e){c.isPlainObject(e)&&(this.options=c.extend(!0,this.options,e))}),s=e,u=t,c.fn[s]=function(t){if("string"==typeof t){for(var e=f.call(arguments,1),n=0,r=this.length;n<r;n++){var i=this[n],o=c.data(i,s);if(o)if(c.isFunction(o[t])&&"_"!==t.charAt(0)){var a=o[t].apply(o,e);if(void 0!==a)return a}else l("no such method '"+t+"' for "+s+" instance");else l("cannot call methods on "+s+" prior to initialization; attempted to call '"+t+"'")}return this}return this.each(function(){var e=c.data(this,s);e?(e.option(t),e._init()):(e=new u(this,t),c.data(this,s,e))})}},c.bridget}}"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):"object"==typeof exports?n(require("jquery")):n(e.jQuery)}(window),function(n){var e=document.documentElement,t=function(){};function r(e){var t=n.event;return t.target=t.target||t.srcElement||e,t}e.addEventListener?t=function(e,t,n){e.addEventListener(t,n,!1)}:e.attachEvent&&(t=function(t,e,n){t[e+n]=n.handleEvent?function(){var e=r(t);n.handleEvent.call(n,e)}:function(){var e=r(t);n.call(t,e)},t.attachEvent("on"+e,t[e+n])});var i=function(){};e.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:e.detachEvent&&(i=function(t,n,r){t.detachEvent("on"+n,t[n+r]);try{delete t[n+r]}catch(e){t[n+r]=void 0}});var o={bind:t,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:n.eventie=o}(this),function(t){var n=t.document,r=[];function i(e){"function"==typeof e&&(i.isReady?e():r.push(e))}function o(e){var t="readystatechange"===e.type&&"complete"!==n.readyState;i.isReady||t||a()}function a(){i.isReady=!0;for(var e=0,t=r.length;e<t;e++){(0,r[e])()}}function e(e){return"complete"===n.readyState?a():(e.bind(n,"DOMContentLoaded",o),e.bind(n,"readystatechange",o),e.bind(t,"load",o)),i}i.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):t.docReady=e(t.eventie)}(window),function(){function e(){}var t=e.prototype,n=this,r=n.EventEmitter;function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}t.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},t.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},t.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},t.addListener=function(e,t){var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},t.on=i("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=i("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],t))&&i[r].splice(n,1);return this},t.off=i("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},t.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},t.removeAllListeners=i("removeEvent"),t.emitEvent=function(e,t){var n,r,i,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)!0===(n=o[i][r]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},t.trigger=i("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:n.EventEmitter=e}.call(this),function(e){var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;function t(e){if(e){if("string"==typeof o[e])return e;var t;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=i.length;n<r;n++)if(t=i[n]+e,"string"==typeof o[t])return t}}"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(_,e){function S(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}var C="undefined"==typeof console?function(){}:function(e){},A=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function t(y){var x,b,w,T=!1;function E(e,t){if(_.getComputedStyle||-1===t.indexOf("%"))return t;var n=e.style,r=n.left,i=e.runtimeStyle,o=i&&i.left;return o&&(i.left=e.currentStyle.left),n.left=t,t=n.pixelLeft,n.left=r,o&&(i.left=o),t}return function(e){if(function(){if(!T){T=!0;var n,t=_.getComputedStyle;if(n=t?function(e){return t(e,null)}:function(e){return e.currentStyle},x=function(e){var t=n(e);return t||C("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t},b=y("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[b]="border-box";var r=document.body||document.documentElement;r.appendChild(e);var i=x(e);w=200===S(i.width),r.removeChild(e)}}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=x(e);if("none"===t.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=A.length;t<n;t++)e[A[t]]=0;return e}();var n={};n.width=e.offsetWidth,n.height=e.offsetHeight;for(var r=n.isBorderBox=!(!b||!t[b]||"border-box"!==t[b]),i=0,o=A.length;i<o;i++){var a=A[i],s=t[a];s=E(e,s);var u=parseFloat(s);n[a]=isNaN(u)?0:u}var c=n.paddingLeft+n.paddingRight,l=n.paddingTop+n.paddingBottom,f=n.marginLeft+n.marginRight,h=n.marginTop+n.marginBottom,p=n.borderLeftWidth+n.borderRightWidth,d=n.borderTopWidth+n.borderBottomWidth,m=r&&w,g=S(t.width);!1!==g&&(n.width=g+(m?0:c+p));var v=S(t.height);return!1!==v&&(n.height=v+(m?0:l+d)),n.innerWidth=n.width-(c+p),n.innerHeight=n.height-(l+d),n.outerWidth=n.width+f,n.outerHeight=n.height+h,n}}}"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],t):"object"==typeof exports?module.exports=t(require("desandro-get-style-property")):_.getSize=t(_.getStyleProperty)}(window),function(i){var e,n=function(){if(i.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],t=0,n=e.length;t<n;t++){var r=e[t]+"MatchesSelector";if(i[r])return r}}();function r(e,t){return e[n](t)}function o(e){e.parentNode||document.createDocumentFragment().appendChild(e)}if(n){var t=r(document.createElement("div"),"div");e=t?r:function(e,t){return o(e),r(e,t)}}else e=function(e,t){o(e);for(var n=e.parentNode.querySelectorAll(t),r=0,i=n.length;r<i;r++)if(n[r]===e)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return e}):"object"==typeof exports?module.exports=e:window.matchesSelector=e}(Element.prototype),function(e){var t=e.getComputedStyle,m=t?function(e){return t(e,null)}:function(e){return e.currentStyle};function n(e,t,o){var n=o("transition"),r=o("transform"),i=n&&r,a=!!o("perspective"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[n],u=["transform","transition","transitionDuration","transitionProperty"],c=function(){for(var e={},t=0,n=u.length;t<n;t++){var r=u[t],i=o(r);i&&i!==r&&(e[r]=i)}return e}();function l(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}!function(e,t){for(var n in t)e[n]=t[n]}(l.prototype,e.prototype),l.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.getSize=function(){this.size=t(this.element)},l.prototype.css=function(e){var t=this.element.style;for(var n in e){t[c[n]||n]=e[n]}},l.prototype.getPosition=function(){var e=m(this.element),t=this.layout.options,n=t.isOriginLeft,r=t.isOriginTop,i=parseInt(e[n?"left":"right"],10),o=parseInt(e[r?"top":"bottom"],10);i=isNaN(i)?0:i,o=isNaN(o)?0:o;var a=this.layout.size;i-=n?a.paddingLeft:a.paddingRight,o-=r?a.paddingTop:a.paddingBottom,this.position.x=i,this.position.y=o},l.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var f=a?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};l.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),o=parseInt(t,10),a=i===this.position.x&&o===this.position.y;if(this.setPosition(e,t),!a||this.isTransitioning){var s=e-n,u=t-r,c={},l=this.layout.options;s=l.isOriginLeft?s:-s,u=l.isOriginTop?u:-u,c.transform=f(s,u),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.prototype.moveTo=i?l.prototype._transitionTo:l.prototype.goTo,l.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},l.prototype._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.prototype._transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var h=r&&r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})+",opacity";l.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:h,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(s,this,!1))},l.prototype.transition=l.prototype[n?"_transition":"_nonTransition"],l.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.prototype.onotransitionend=function(e){this.ontransitionend(e)};var p={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};l.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=p[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd)t.onEnd[n].call(this),delete t.onEnd[n];this.emitEvent("transitionEnd",[this])}},l.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},l.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var d={transitionProperty:"",transitionDuration:""};return l.prototype.removeTransitionStyles=function(){this.css(d)},l.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},l.prototype.remove=function(){if(n&&parseFloat(this.layout.options.transitionDuration)){var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()}else this.removeElem()},l.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},l.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},l.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},l}"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(e.Outlayer={},e.Outlayer.Item=n(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(u){var f=u.document,h=u.console,p=u.jQuery,l=function(){};function d(e,t){for(var n in t)e[n]=t[n];return e}var o=Object.prototype.toString;function m(e){var t,n=[];if(t=e,"[object Array]"===o.call(t))n=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);else n.push(e);return n}var g="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},r=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1};function v(e,t){var n=r(t,e);-1!==n&&t.splice(n,1)}function e(e,t,n,i,c,r){var o=0,a={};function s(e,t){if("string"==typeof e&&(e=f.querySelector(e)),e&&g(e)){this.element=e,this.options=d({},this.constructor.defaults),this.option(t);var n=++o;this.element.outlayerGUID=n,(a[n]=this)._create(),this.options.isInitLayout&&this.layout()}else h&&h.error("Bad "+this.constructor.namespace+" element: "+e)}return s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},d(s.prototype,n.prototype),s.prototype.option=function(e){d(this.options,e)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),d(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0,o=t.length;i<o;i++){var a=new n(t[i],this);r.push(a)}return r},s.prototype._filterFindItemElements=function(e){e=m(e);for(var t=this.options.itemSelector,n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(g(o))if(t){c(o,t)&&n.push(o);for(var a=o.querySelectorAll(t),s=0,u=a.length;s<u;s++)n.push(a[s])}else n.push(o)}return n},s.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;t<n;t++)e.push(this.items[t].element);return e},s.prototype._init=s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype._getMeasurement=function(e,t){var n,r=this.options[e];r?("string"==typeof r?n=this.element.querySelector(r):g(r)&&(n=r),this[e]=n?i(n)[t]:r):this[e]=0},s.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},s.prototype._getItemsForLayout=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];i.isIgnored||t.push(i)}return t},s.prototype._layoutItems=function(e,t){var n=this;function r(){n.emitEvent("layoutComplete",[n,e])}if(e&&e.length){this._itemsOn(e,"layout",r);for(var i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=this._getItemLayoutPosition(s);u.item=s,u.isInstant=t||s.isLayoutInstant,i.push(u)}this._processLayoutQueue(i)}else r()},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},s.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},s.prototype._getContainerSize=l,s.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},s.prototype._itemsOn=function(e,t,n){var r=0,i=e.length,o=this;function a(){return++r===i&&n.call(o),!0}for(var s=0,u=e.length;s<u;s++){e[s].on(t,a)}},s.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},s.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},s.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;t<n;t++){var r=e[t];this.ignore(r)}}},s.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;t<n;t++){var r=e[t];v(r,this.stamps),this.unignore(r)}},s.prototype._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=m(e)},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var n=this.stamps[e];this._manageStamp(n)}}},s.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},s.prototype._manageStamp=l,s.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=i(e);return{left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.bindResize=function(){this.isResizeBound||(e.bind(u,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(u,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(function(){e.resize(),delete e.resizeTimeout},100)},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},s.prototype.needsResizeLayout=function(){var e=i(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},s.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},s.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},s.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var n=0;n<t;n++){e[n].reveal()}},s.prototype.hide=function(e){var t=e&&e.length;if(t)for(var n=0;n<t;n++){e[n].hide()}},s.prototype.getItem=function(e){for(var t=0,n=this.items.length;t<n;t++){var r=this.items[t];if(r.element===e)return r}},s.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=this.getItem(i);o&&t.push(o)}return t}},s.prototype.remove=function(e){e=m(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,r=t.length;n<r;n++){var i=t[n];i.remove(),v(i,this.items)}}},s.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;t<n;t++){this.items[t].destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete a[r],delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},s.data=function(e){var t=e&&e.outlayerGUID;return t&&a[t]},s.create=function(c,e){function l(){s.apply(this,arguments)}return Object.create?l.prototype=Object.create(s.prototype):d(l.prototype,s.prototype),d((l.prototype.constructor=l).defaults=d({},s.defaults),e),l.prototype.settings={},l.namespace=c,l.data=s.data,(l.Item=function(){r.apply(this,arguments)}).prototype=new r,t(function(){for(var e=c.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase(),t=f.querySelectorAll(".js-"+e),n="data-"+e+"-options",r=0,i=t.length;r<i;r++){var o,a=t[r],s=a.getAttribute(n);try{o=s&&JSON.parse(s)}catch(e){h&&h.error("Error parsing "+n+" on "+a.nodeName.toLowerCase()+(a.id?"#"+a.id:"")+": "+e);continue}var u=new l(a,o);p&&p.data(a,c,u)}}),p&&p.bridget&&p.bridget(c,l),l},s.Item=r,s}"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],e):"object"==typeof exports?module.exports=e(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):u.Outlayer=e(u.eventie,u.docReady,u.EventEmitter,u.getSize,u.matchesSelector,u.Outlayer.Item)}(window),function(e){function t(e){function t(){e.Item.apply(this,arguments)}(t.prototype=new e.Item)._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}}};var n=t.prototype.destroy;return t.prototype.destroy=function(){n.apply(this,arguments),this.css({display:""})},t}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window),function(e){function t(t,o){function a(e){(this.isotope=e)&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){for(var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],t=0,n=e.length;t<n;t++){var r=e[t];a.prototype[r]=i(r)}function i(e){return function(){return o.prototype[e].apply(this.isotope,arguments)}}}(),a.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!==this.isotope.size.innerHeight},a.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},a.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},a.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},a.prototype.getSegmentSize=function(e,t){var n=e+t,r="outer"+t;if(this._getMeasurement(n,r),!this[n]){var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotope.size["inner"+t]}},a.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},a.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},a.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},a.modes={},a.create=function(e,t){function n(){a.apply(this,arguments)}return n.prototype=new a,t&&(n.options=t),a.modes[n.prototype.namespace=e]=n},a}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window),function(e){var l=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t)return n}return-1};function t(e,c){var t=e.create("masonry");return t.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},t.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&c(t).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},t.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,t=c(e);this.containerWidth=t&&t.innerWidth},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),i=Math.min.apply(Math,r),o=l(r,i),a={x:this.columnWidth*o,y:i},s=i+e.size.outerHeight,u=this.cols+1-r.length,c=0;c<u;c++)this.colYs[o+c]=s;return a},t.prototype._getColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;r<n;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},t.prototype._manageStamp=function(e){var t=c(e),n=this._getElementOffset(e),r=this.options.isOriginLeft?n.left:n.right,i=r+t.outerWidth,o=Math.floor(r/this.columnWidth);o=Math.max(0,o);var a=Math.floor(i/this.columnWidth);a-=i%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var s=(this.options.isOriginTop?n.top:n.bottom)+t.outerHeight,u=o;u<=a;u++)this.colYs[u]=Math.max(s,this.colYs[u])},t.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},t.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},t.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},t}"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window),function(e){function t(e,t){var n=e.create("masonry"),r=n.prototype._getElementOffset,i=n.prototype.layout,o=n.prototype._getMeasurement;!function(e,t){for(var n in t)e[n]=t[n]}(n.prototype,t.prototype),n.prototype._getElementOffset=r,n.prototype.layout=i,n.prototype._getMeasurement=o;var a=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var s=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,s.apply(this,arguments)},n}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):"object"==typeof exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window),function(e){function t(e){var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,n=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>n&&(this.x=0,this.y=this.maxY);var r={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,r},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window),function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=e.size.outerHeight,{x:t,y:n}},t.prototype._getContainerSize=function(){return{height:this.y}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window),function(e){var a=e.jQuery;var l=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},f=document.documentElement.textContent?function(e){return e.textContent}:function(e){return e.innerText},o=Object.prototype.toString;var h=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1};function p(e){var t,n=[];if(t=e,"[object Array]"===o.call(t))n=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);else n.push(e);return n}function t(r,e,n,t,i){var u=r.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});u.Item=t,u.LayoutMode=i,u.prototype._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),r.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],i.modes)this._initLayoutMode(e)},u.prototype.reloadItems=function(){this.itemGUID=0,r.prototype.reloadItems.call(this)},u.prototype._itemize=function(){for(var e=r.prototype._itemize.apply(this,arguments),t=0,n=e.length;t<n;t++){e[t].id=this.itemGUID++}return this._updateItemsSortData(e),e},u.prototype._initLayoutMode=function(e){var t=i.modes[e],n=this.options[e]||{};this.options[e]=t.options?function(e,t){for(var n in t)e[n]=t[n];return e}(t.options,n):n,this.modes[e]=new t(this)},u.prototype.layout=function(){this._isLayoutInited||!this.options.isInitLayout?this._layout():this.arrange()},u.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},u.prototype.arrange=function(e){this.option(e),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},u.prototype._init=u.prototype.arrange,u.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e},u.prototype._filter=function(e){var t=this.options.filter;t=t||"*";for(var n=[],r=[],i=[],o=this._getFilterTest(t),a=0,s=e.length;a<s;a++){var u=e[a];if(!u.isIgnored){var c=o(u);c&&n.push(u),c&&u.isHidden?r.push(u):c||u.isHidden||i.push(u)}}var l=this;function f(){l.reveal(r),l.hide(i)}return this._isInstant?this._noTransition(f):f(),n},u.prototype._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},u.prototype.updateSortData=function(e){var t;e?(e=p(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},u.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=o(n)}},u.prototype._updateItemsSortData=function(e){for(var t=e&&e.length,n=0;t&&n<t;n++){e[n].updateSortData()}};var o=function(e){if("string"!=typeof e)return e;var t,n,r=l(e).split(" "),i=r[0],o=i.match(/^\[(.+)\]$/),a=(t=o&&o[1],n=i,t?function(e){return e.getAttribute(t)}:function(e){var t=e.querySelector(n);return t&&f(t)}),s=u.sortDataParsers[r[1]];return e=s?function(e){return e&&s(a(e))}:function(e){return e&&a(e)}};u.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},u.prototype._sort=function(){var e=this.options.sortBy;if(e){var c,l,t=[].concat.apply(e,this.sortHistory),n=(c=t,l=this.options.sortAscending,function(e,t){for(var n=0,r=c.length;n<r;n++){var i=c[n],o=e.sortData[i],a=t.sortData[i];if(a<o||o<a){var s=void 0!==l[i]?l[i]:l,u=s?1:-1;return(a<o?1:-1)*u}}return 0});this.filteredItems.sort(n),e!==this.sortHistory[0]&&this.sortHistory.unshift(e)}},u.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},u.prototype._resetLayout=function(){r.prototype._resetLayout.call(this),this._mode()._resetLayout()},u.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},u.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},u.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},u.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},u.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)}},u.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n),this.filteredItems=r.concat(this.filteredItems)}},u.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});return this.layoutItems(t,!0),this.reveal(t),e},u.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var n,r,i=t.length;for(n=0;n<i;n++)r=t[n],this.element.appendChild(r.element);var o=this._filter(t);for(this._noTransition(function(){this.hide(o)}),n=0;n<i;n++)t[n].isLayoutInstant=!0;for(this.arrange(),n=0;n<i;n++)delete t[n].isLayoutInstant;this.reveal(o)}};var c=u.prototype.remove;return u.prototype.remove=function(e){e=p(e);var t,n,r,i=this.getItems(e);if(c.call(this,e),i&&i.length)for(var o=0,a=i.length;o<a;o++){var s=i[o];t=s,n=this.filteredItems,void 0,-1!==(r=h(n,t))&&n.splice(r,1)}},u.prototype.shuffle=function(){for(var e=0,t=this.items.length;e<t;e++){this.items[e].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},u.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);return this.options.transitionDuration=t,n},u.prototype.getFilteredItemElements=function(){for(var e=[],t=0,n=this.filteredItems.length;t<n;t++)e.push(this.filteredItems[t].element);return e},u}"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):e.Isotope=t(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)}(window),function(){function e(){}function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,r=this,i=r.EventEmitter;n.getListeners=function(e){var t,n,r=this._getEvents();if("object"==typeof e)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},n.addListener=function(e,t){var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},n.on=t("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=t("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&(-1!==(n=o(i[r],t))&&i[r].splice(n,1));return this},n.off=t("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},n.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},n.removeAllListeners=t("removeEvent"),n.emitEvent=function(e,t){var n,r,i,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)!0===(n=o[i][r]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},n.trigger=t("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=i,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(n){function r(e){var t=n.event;return t.target=t.target||t.srcElement||e,t}var e=document.documentElement,t=function(){};e.addEventListener?t=function(e,t,n){e.addEventListener(t,n,!1)}:e.attachEvent&&(t=function(t,e,n){t[e+n]=n.handleEvent?function(){var e=r(t);n.handleEvent.call(n,e)}:function(){var e=r(t);n.call(t,e)},t.attachEvent("on"+e,t[e+n])});var i=function(){};e.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:e.detachEvent&&(i=function(t,n,r){t.detachEvent("on"+n,t[n+r]);try{delete t[n+r]}catch(e){t[n+r]=void 0}});var o={bind:t,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):n.eventie=o}(this),function(n,r){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return r(n,e,t)}):"object"==typeof exports?module.exports=r(n,require("wolfy87-eventemitter"),require("eventie")):n.imagesLoaded=r(n,n.EventEmitter,n.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e){var t,n=[];if(t=e,"[object Array]"===f.call(t))n=e;else if("number"==typeof e.length)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);else n.push(e);return n}function a(e,t,n){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var r=this;setTimeout(function(){r.check()})}function r(e){this.img=e}function s(e){this.src=e,h[e]=this}var u=e.jQuery,c=e.console,l=void 0!==c,f=Object.prototype.toString;(a.prototype=new t).options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var r=n.nodeType;if(r&&(1===r||9===r||11===r))for(var i=n.querySelectorAll("img"),o=0,a=i.length;o<a;o++){var s=i[o];this.addImage(s)}}},a.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},a.prototype.check=function(){function e(e,t){return n.options.debug&&l&&c.log("confirm",e,t),n.progress(e),++r===i&&n.complete(),!0}var n=this,r=0,i=this.images.length;if(this.hasAnyBroken=!1,i)for(var t=0;t<i;t++){var o=this.images[t];o.on("confirm",e),o.check()}else this.complete()},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var n=this;setTimeout(function(){if(n.emit(t,n),n.emit("always",n),n.jqDeferred){var e=n.hasAnyBroken?"reject":"resolve";n.jqDeferred[e](n)}})},u&&(u.fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(u(this))}),(r.prototype=new t).check=function(){var e=h[this.img.src]||new s(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var n=this;e.on("confirm",function(e,t){return n.confirm(e.isLoaded,t),!0}),e.check()}},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return(s.prototype=new t).check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},s.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},s.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},s.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},a}),function(o,p,d,e){var n="mockDrop",r={propertyName:"value",previewCanvasPixelRatio:2};function t(e,t){this.element=e,this.options=o.extend({},r,t),this.$element=o(e),this.$container=this.$element.find(".container"),this.$backgroundImage=this.$element.find("img.background"),this.$input=this.$element.find("input.file"),this.$box=this.$element.find("div.box"),this.screenshotImgData=null,this.texture=null,this.highResolutionBackground=null,this.width=null,this.height=null,this.canvas=null,this.renderingCanvas=null,this.box=JSON.parse(this.$container.attr("data-box")),this._defaults=r,this._name=n,this.init()}t.prototype={calculateLayout:function(){this.width=this.$backgroundImage.width(),this.height=this.$backgroundImage.height()},scaleBox:function(e,t,n){for(var r=e.slice(0),i=0;i<e.length;i++)r[i]*=i%2==0?t:n;return r},updateCanvas:function(e){this.calculateLayout();var n=this,r=this.box;this.screenshotImgData=e;var i=o("<img>",{src:e});i.attr({width:2*this.width,height:2*this.height}),i.load(function(e){if(!n.canvas)try{n.canvas=fx.canvas(),n.$container.append(n.canvas)}catch(e){return void alert(e)}r=n.scaleBox(r,2*n.width,2*n.height);var t=n.canvas.texture(i[0]);n.canvas.draw(t).perspective([0,0,2*n.width,0,0,2*n.height,2*n.width,2*n.height],r).update(),t.destroy()})},updateBoxMatrix:function(){this.calculateLayout();var e=this.scaleBox(this.box,this.width,this.height);applyTransform(this.$box,[[0,0],[this.width,0],[0,this.height],[this.width,this.height]],[[e[0],e[1]],[e[2],e[3]],[e[4],e[5]],[e[6],e[7]]],function(){})},init:function(){var t=this;this.calculateLayout(),this.updateBoxMatrix(),this.$input.change(function(e){t.handleFile(e.target.files[0])}),this.$element.find(".getImage").click(function(e){o(".working").show(),t.getImage("image/jpg",function(){o(".working").hide()})}),this.$box.click(function(e){t.$element.hasClass("is-expanded")&&t.$input.trigger("click"),e.stopPropagation()}),this.$element.on("expanded",function(e){t.updateBoxMatrix()}),this.$element.on("minimized",function(e){t.updateBoxMatrix()}),this.$container.on("dragover",function(e){e.preventDefault(),o(this).addClass("dragging")}),this.$container.on("dragleave",function(e){e.preventDefault(),o(this).removeClass("dragging")}),this.$container.on("drop",function(e){e.preventDefault(),o(this).removeClass("dragging"),t.handleFile(e.originalEvent.dataTransfer.files[0])})},handleFile:function(e){this.$box.addClass("mocked");if(e)if(e.type.match(/image.*/)){var t,n=new FileReader;n.onload=(t=this,function(e){t.updateCanvas(e.target.result)}),n.readAsDataURL(e)}else alert("only images are allowed")},getImage:function(e,u){var c=this;if(!this.screenshotImgData)return alert("add a screenshot first."),void u();if(!this.highResolutionBackground){var t=new Image;return t.src=this.$backgroundImage.attr("src").slice(0,-4)+"_hr.png",void((this.highResolutionBackground=t).onload=function(){return c.getImage(e,u)})}var l=this.highResolutionBackground.naturalWidth,f=this.highResolutionBackground.naturalHeight,h=o("<img>",{src:this.screenshotImgData});h.attr({width:l,height:f}),h.load(function(){c.renderingCanvas||(c.renderingCanvas=fx.canvas(),c.renderingCanvas.width=l,c.renderingCanvas.height=f);var e=c.renderingCanvas.texture(h[0]),t=c.box;t=c.scaleBox(t,l,f),c.renderingCanvas.draw(e).perspective([0,0,l,0,0,f,l,f],t).update();var n=d.createElement("canvas"),r=n.getContext("2d");n.width=l,n.height=f,p.chrome,r.drawImage(c.renderingCanvas,0,0,l,f);var i=c.highResolutionBackground;r.drawImage(i,0,0);var o,a,s=n.toDataURL("image/jpeg",1);o=u,a=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})}(s),saveAs(a,"mockDrop_"+c.$container.data("name")+".jpg"),o()})}},o.fn[n]=function(e){return this.each(function(){o.data(this,"plugin_"+n)||o.data(this,"plugin_"+n,new t(this,e))})}}(jQuery,window,document),$(document).ready(function(){var i=$("#item-container");i.imagesLoaded(function(){$("section").not(".help").not(".info").mockDrop(),i.isotope({layoutMode:"masonry",masonry:{columnWidth:312}}),i.isotope("layout"),i.find("section").on("minimized",function(){var e=window.location;"pushState"in history&&history.replaceState("",document.title,e.pathname+e.search)}).on("expanded",function(){var e=$(this);history.replaceState("","","#"+e.data("id")+":"+e.data("name"))}).on("expanded minimized",function(){}).one("expanded",function(){var e=$(this).find("img").data("image"),t=$("<img/>"),n=$(this);t.one("load",function(){n.find("img")[0].src=e}),t[0].src=e});var n=$(".overlay"),r=function(e){e.addClass("is-expanded"),n.show(),e.trigger("expanded")};n.on("click",function(){var e,t=i.find("section").filter(".is-expanded");0<t.length&&((e=t).removeClass("is-expanded"),n.hide(),e.trigger("minimized"))}),i.on("click tap",".container",function(){var e=$(this).parent("section");e.hasClass("is-expanded")||r(e)}).on("drop",".container",function(e){var t=$(this).parent("section");t.hasClass("is-expanded")||r(t)}),$(".help").click(function(){$(this).remove(),i.isotope("layout")}),$(".filter").on("click","button",function(){var e=$(this).attr("data-filter");$(".filter").find("button").removeClass("is-checked"),$(this).addClass("is-checked"),i.isotope({filter:e})}),$(".loading").remove();var e=window.location.hash.substr(1,window.location.hash.indexOf(":")-1);if(e){var t=$("section[data-id='"+e+"']");t.length&&(r(t),t[0].scrollIntoView({behavior:"smooth",block:"start"}))}});var r=!1;function e(e){if(!r){r=!0;var t=e.message,n=e.filename+": "+e.lineno;ga("send","event","JavaScript Error",t,n,{nonInteraction:1}),alert("An error occured. Your browser may not support the technology needed to render the mockups")}}window.addEventListener?window.addEventListener("error",e,!1):window.attachEvent?window.attachEvent("onerror",e):window.onerror=e});